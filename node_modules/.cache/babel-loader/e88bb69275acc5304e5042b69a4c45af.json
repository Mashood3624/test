{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DataTable = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Paginator = require(\"../paginator/Paginator\");\n\nvar _DomHandler = _interopRequireDefault(require(\"../utils/DomHandler\"));\n\nvar _ObjectUtils = _interopRequireDefault(require(\"../utils/ObjectUtils\"));\n\nvar _ScrollableView = require(\"./ScrollableView\");\n\nvar _TableBody = require(\"./TableBody\");\n\nvar _TableFooter = require(\"./TableFooter\");\n\nvar _TableHeader = require(\"./TableHeader\");\n\nvar _TableLoadingBody = require(\"./TableLoadingBody\");\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DataTable = /*#__PURE__*/function (_Component) {\n  _inherits(DataTable, _Component);\n\n  function DataTable(props) {\n    var _this;\n\n    _classCallCheck(this, DataTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DataTable).call(this, props));\n    var state = {};\n\n    if (!_this.props.onPage) {\n      state.first = props.first;\n      state.rows = props.rows;\n    }\n\n    if (!_this.props.onSort) {\n      state.sortField = props.sortField;\n      state.sortOrder = props.sortOrder;\n      state.multiSortMeta = props.multiSortMeta;\n    }\n\n    if (!_this.props.onFilter) {\n      state.filters = props.filters;\n    }\n\n    if (_this.isStateful()) {\n      _this.restoreState(state);\n    }\n\n    if (Object.keys(state).length) {\n      _this.state = state;\n    }\n\n    _this.onPageChange = _this.onPageChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSort = _this.onSort.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onFilter = _this.onFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnResizeStart = _this.onColumnResizeStart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onHeaderCheckboxClick = _this.onHeaderCheckboxClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnDragStart = _this.onColumnDragStart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnDragOver = _this.onColumnDragOver.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnDragLeave = _this.onColumnDragLeave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnDrop = _this.onColumnDrop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onVirtualScroll = _this.onVirtualScroll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.frozenSelectionMode = null;\n    return _this;\n  }\n\n  _createClass(DataTable, [{\n    key: \"getFirst\",\n    value: function getFirst() {\n      return this.props.onPage ? this.props.first : this.state.first;\n    }\n  }, {\n    key: \"getRows\",\n    value: function getRows() {\n      return this.props.onPage ? this.props.rows : this.state.rows;\n    }\n  }, {\n    key: \"getSortField\",\n    value: function getSortField() {\n      return this.props.onSort ? this.props.sortField : this.state.sortField;\n    }\n  }, {\n    key: \"getSortOrder\",\n    value: function getSortOrder() {\n      return this.props.onSort ? this.props.sortOrder : this.state.sortOrder;\n    }\n  }, {\n    key: \"getMultiSortMeta\",\n    value: function getMultiSortMeta() {\n      return this.props.onSort ? this.props.multiSortMeta : this.state.multiSortMeta;\n    }\n  }, {\n    key: \"getFilters\",\n    value: function getFilters() {\n      return this.props.onFilter ? this.props.filters : this.state.filters;\n    }\n  }, {\n    key: \"getStorage\",\n    value: function getStorage() {\n      switch (this.props.stateStorage) {\n        case 'local':\n          return window.localStorage;\n\n        case 'session':\n          return window.sessionStorage;\n\n        default:\n          throw new Error(this.props.stateStorage + ' is not a valid value for the state storage, supported values are \"local\" and \"session\".');\n      }\n    }\n  }, {\n    key: \"isStateful\",\n    value: function isStateful() {\n      return this.props.stateKey != null;\n    }\n  }, {\n    key: \"saveState\",\n    value: function saveState() {\n      var storage = this.getStorage();\n      var state = {};\n\n      if (this.props.paginator) {\n        state.first = this.getFirst();\n        state.rows = this.getRows();\n      }\n\n      if (this.getSortField()) {\n        state.sortField = this.getSortField();\n        state.sortOrder = this.getSortOrder();\n        state.multiSortMeta = this.getMultiSortMeta();\n      }\n\n      if (this.hasFilter()) {\n        state.filters = this.getFilters();\n      }\n\n      if (this.props.resizableColumns) {\n        this.saveColumnWidths(state);\n      }\n\n      if (this.props.reorderableColumns) {\n        state.columnOrder = this.state.columnOrder;\n      }\n\n      if (this.props.expandedRows) {\n        state.expandedRows = this.props.expandedRows;\n      }\n\n      if (this.props.selection && this.props.onSelectionChange) {\n        state.selection = this.props.selection;\n      }\n\n      if (Object.keys(state).length) {\n        storage.setItem(this.props.stateKey, JSON.stringify(state));\n      }\n    }\n  }, {\n    key: \"clearState\",\n    value: function clearState() {\n      var storage = this.getStorage();\n\n      if (this.props.stateKey) {\n        storage.removeItem(this.props.stateKey);\n      }\n    }\n  }, {\n    key: \"restoreState\",\n    value: function restoreState(state) {\n      var storage = this.getStorage();\n      var stateString = storage.getItem(this.props.stateKey);\n\n      if (stateString) {\n        var restoredState = JSON.parse(stateString);\n\n        if (this.props.paginator) {\n          if (this.props.onPage) {\n            this.props.onPage({\n              first: restoredState.first,\n              rows: restoredState.rows\n            });\n          } else {\n            state.first = restoredState.first;\n            state.rows = restoredState.rows;\n          }\n        }\n\n        if (restoredState.sortField) {\n          if (this.props.onSort) {\n            this.props.onSort({\n              sortField: restoredState.sortField,\n              sortOrder: restoredState.sortOrder,\n              multiSortMeta: restoredState.multiSortMeta\n            });\n          } else {\n            state.sortField = restoredState.sortField;\n            state.sortOrder = restoredState.sortOrder;\n            state.multiSortMeta = restoredState.multiSortMeta;\n          }\n        }\n\n        if (restoredState.filters) {\n          if (this.props.onFilter) {\n            this.props.onFilter({\n              filters: restoredState.filters\n            });\n          } else {\n            state.filters = restoredState.filters;\n          }\n        }\n\n        if (this.props.resizableColumns) {\n          this.columnWidthsState = restoredState.columnWidths;\n          this.tableWidthState = restoredState.tableWidth;\n        }\n\n        if (this.props.reorderableColumns) {\n          state.columnOrder = restoredState.columnOrder;\n        }\n\n        if (restoredState.expandedRows && this.props.onRowToggle) {\n          this.props.onRowToggle({\n            data: restoredState.expandedRows\n          });\n        }\n\n        if (restoredState.selection && this.props.onSelectionChange) {\n          this.props.onSelectionChange({\n            value: restoredState.selection\n          });\n        }\n      }\n    }\n  }, {\n    key: \"saveColumnWidths\",\n    value: function saveColumnWidths(state) {\n      var widths = [];\n\n      var headers = _DomHandler.default.find(this.container, '.p-datatable-thead > tr > th');\n\n      headers.map(function (header) {\n        return widths.push(_DomHandler.default.getOuterWidth(header));\n      });\n      state.columnWidths = widths.join(',');\n\n      if (this.props.columnResizeMode === 'expand') {\n        state.tableWidth = this.props.scrollable ? _DomHandler.default.findSingle(this.container, '.p-datatable-scrollable-header-table').style.width : _DomHandler.default.getOuterWidth(this.table) + 'px';\n      }\n    }\n  }, {\n    key: \"restoreColumnWidths\",\n    value: function restoreColumnWidths() {\n      if (this.columnWidthsState) {\n        var widths = this.columnWidthsState.split(',');\n\n        if (this.props.columnResizeMode === 'expand' && this.tableWidthState) {\n          if (this.props.scrollable) {\n            this.setScrollableItemsWidthOnExpandResize(null, this.tableWidthState, 0);\n          } else {\n            this.tableViewChild.nativeElement.style.width = this.tableWidthState;\n            this.containerViewChild.nativeElement.style.width = this.tableWidthState;\n          }\n        }\n\n        if (this.props.scrollable) {\n          var headerCols = _DomHandler.default.find(this.container, '.p-datatable-scrollable-header-table > colgroup > col');\n\n          var bodyCols = _DomHandler.default.find(this.container, '.p-datatable-scrollable-body-table > colgroup > col');\n\n          headerCols.map(function (col, index) {\n            return col.style.width = widths[index] + 'px';\n          });\n          bodyCols.map(function (col, index) {\n            return col.style.width = widths[index] + 'px';\n          });\n        } else {\n          var headers = _DomHandler.default.find(this.table, '.p-datatable-thead > tr > th');\n\n          headers.map(function (header, index) {\n            return header.style.width = widths[index] + 'px';\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onPageChange\",\n    value: function onPageChange(event) {\n      if (this.props.onPage) this.props.onPage(event);else this.setState({\n        first: event.first,\n        rows: event.rows\n      });\n\n      if (this.props.onValueChange) {\n        this.props.onValueChange();\n      }\n    }\n  }, {\n    key: \"createPaginator\",\n    value: function createPaginator(position, totalRecords, data) {\n      var className = 'p-paginator-' + position;\n      return _react.default.createElement(_Paginator.Paginator, {\n        first: this.getFirst(),\n        rows: this.getRows(),\n        pageLinkSize: this.props.pageLinkSize,\n        className: className,\n        onPageChange: this.onPageChange,\n        template: this.props.paginatorTemplate,\n        totalRecords: totalRecords,\n        rowsPerPageOptions: this.props.rowsPerPageOptions,\n        currentPageReportTemplate: this.props.currentPageReportTemplate,\n        leftContent: this.props.paginatorLeft,\n        rightContent: this.props.paginatorRight,\n        alwaysShow: this.props.alwaysShowPaginator\n      });\n    }\n  }, {\n    key: \"onSort\",\n    value: function onSort(event) {\n      var sortField = event.sortField;\n      var sortOrder = this.getSortField() === event.sortField ? this.getSortOrder() * -1 : this.props.defaultSortOrder;\n      var multiSortMeta;\n      this.columnSortable = event.sortable;\n      this.columnSortFunction = event.sortFunction;\n\n      if (this.props.sortMode === 'multiple') {\n        var metaKey = event.originalEvent.metaKey || event.originalEvent.ctrlKey;\n        multiSortMeta = this.getMultiSortMeta();\n\n        if (!multiSortMeta || !metaKey) {\n          multiSortMeta = [];\n        }\n\n        this.addSortMeta({\n          field: sortField,\n          order: sortOrder\n        }, multiSortMeta);\n      }\n\n      if (this.props.onSort) {\n        this.props.onSort({\n          sortField: sortField,\n          sortOrder: sortOrder,\n          multiSortMeta: multiSortMeta\n        });\n      } else {\n        this.setState({\n          sortField: sortField,\n          sortOrder: sortOrder,\n          first: 0,\n          multiSortMeta: multiSortMeta\n        });\n      }\n\n      if (this.props.onValueChange) {\n        this.props.onValueChange(this.processData({\n          sortField: sortField,\n          sortOrder: sortOrder,\n          multiSortMeta: multiSortMeta\n        }));\n      }\n    }\n  }, {\n    key: \"addSortMeta\",\n    value: function addSortMeta(meta, multiSortMeta) {\n      var index = -1;\n\n      for (var i = 0; i < multiSortMeta.length; i++) {\n        if (multiSortMeta[i].field === meta.field) {\n          index = i;\n          break;\n        }\n      }\n\n      if (index >= 0) multiSortMeta[index] = meta;else multiSortMeta.push(meta);\n    }\n  }, {\n    key: \"sortSingle\",\n    value: function sortSingle(data, sortField, sortOrder) {\n      var value = _toConsumableArray(data);\n\n      if (this.columnSortable && this.columnSortFunction) {\n        value = this.columnSortFunction({\n          field: this.getSortField(),\n          order: this.getSortOrder()\n        });\n      } else {\n        value.sort(function (data1, data2) {\n          var value1 = _ObjectUtils.default.resolveFieldData(data1, sortField);\n\n          var value2 = _ObjectUtils.default.resolveFieldData(data2, sortField);\n\n          var result = null;\n          if (value1 == null && value2 != null) result = -1;else if (value1 != null && value2 == null) result = 1;else if (value1 == null && value2 == null) result = 0;else if (typeof value1 === 'string' && typeof value2 === 'string') result = value1.localeCompare(value2, undefined, {\n            numeric: true\n          });else result = value1 < value2 ? -1 : value1 > value2 ? 1 : 0;\n          return sortOrder * result;\n        });\n      }\n\n      return value;\n    }\n  }, {\n    key: \"sortMultiple\",\n    value: function sortMultiple(data, multiSortMeta) {\n      var _this2 = this;\n\n      var value = _toConsumableArray(data);\n\n      value.sort(function (data1, data2) {\n        return _this2.multisortField(data1, data2, multiSortMeta, 0);\n      });\n      return value;\n    }\n  }, {\n    key: \"multisortField\",\n    value: function multisortField(data1, data2, multiSortMeta, index) {\n      var value1 = _ObjectUtils.default.resolveFieldData(data1, multiSortMeta[index].field);\n\n      var value2 = _ObjectUtils.default.resolveFieldData(data2, multiSortMeta[index].field);\n\n      var result = null;\n\n      if (typeof value1 === 'string' || value1 instanceof String) {\n        if (value1.localeCompare && value1 !== value2) {\n          return multiSortMeta[index].order * value1.localeCompare(value2, undefined, {\n            numeric: true\n          });\n        }\n      } else {\n        result = value1 < value2 ? -1 : 1;\n      }\n\n      if (value1 === value2) {\n        return multiSortMeta.length - 1 > index ? this.multisortField(data1, data2, multiSortMeta, index + 1) : 0;\n      }\n\n      return multiSortMeta[index].order * result;\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(value, field, mode) {\n      this.onFilter({\n        value: value,\n        field: field,\n        matchMode: mode\n      });\n    }\n  }, {\n    key: \"onFilter\",\n    value: function onFilter(event) {\n      var currentFilters = this.getFilters();\n      var newFilters = currentFilters ? _objectSpread({}, currentFilters) : {};\n      if (!this.isFilterBlank(event.value)) newFilters[event.field] = {\n        value: event.value,\n        matchMode: event.matchMode\n      };else if (newFilters[event.field]) delete newFilters[event.field];\n\n      if (this.props.onFilter) {\n        this.props.onFilter({\n          filters: newFilters\n        });\n      } else {\n        this.setState({\n          first: 0,\n          filters: newFilters\n        });\n      }\n\n      if (this.props.onValueChange) {\n        this.props.onValueChange(this.processData({\n          filters: newFilters\n        }));\n      }\n    }\n  }, {\n    key: \"hasFilter\",\n    value: function hasFilter() {\n      var filters = this.getFilters();\n      return filters && Object.keys(filters).length > 0;\n    }\n  }, {\n    key: \"isFilterBlank\",\n    value: function isFilterBlank(filter) {\n      if (filter !== null && filter !== undefined) {\n        if (typeof filter === 'string' && filter.trim().length === 0 || filter instanceof Array && filter.length === 0) return true;else return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"hasFooter\",\n    value: function hasFooter() {\n      if (this.props.children) {\n        if (this.props.footerColumnGroup) {\n          return true;\n        } else {\n          if (this.props.children instanceof Array) {\n            for (var i = 0; i < this.props.children.length; i++) {\n              if (this.props.children[i].props.footer) {\n                return true;\n              }\n            }\n          } else {\n            return this.props.children.props.footer !== null;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"onColumnResizeStart\",\n    value: function onColumnResizeStart(event) {\n      var containerLeft = _DomHandler.default.getOffset(this.container).left;\n\n      this.resizeColumn = event.columnEl;\n      this.resizeColumnProps = event.columnProps;\n      this.columnResizing = true;\n      this.lastResizerHelperX = event.originalEvent.pageX - containerLeft + this.container.scrollLeft;\n      this.bindColumnResizeEvents();\n    }\n  }, {\n    key: \"onColumnResize\",\n    value: function onColumnResize(event) {\n      var containerLeft = _DomHandler.default.getOffset(this.container).left;\n\n      _DomHandler.default.addClass(this.container, 'p-unselectable-text');\n\n      this.resizerHelper.style.height = this.container.offsetHeight + 'px';\n      this.resizerHelper.style.top = 0 + 'px';\n      this.resizerHelper.style.left = event.pageX - containerLeft + this.container.scrollLeft + 'px';\n      this.resizerHelper.style.display = 'block';\n    }\n  }, {\n    key: \"onColumnResizeEnd\",\n    value: function onColumnResizeEnd(event) {\n      var delta = this.resizerHelper.offsetLeft - this.lastResizerHelperX;\n      var columnWidth = this.resizeColumn.offsetWidth;\n      var newColumnWidth = columnWidth + delta;\n      var minWidth = this.resizeColumn.style.minWidth || 15;\n\n      if (columnWidth + delta > parseInt(minWidth, 10)) {\n        if (this.props.columnResizeMode === 'fit') {\n          var nextColumn = this.resizeColumn.nextElementSibling;\n          var nextColumnWidth = nextColumn.offsetWidth - delta;\n\n          if (newColumnWidth > 15 && nextColumnWidth > 15) {\n            if (this.props.scrollable) {\n              var scrollableView = this.findParentScrollableView(this.resizeColumn);\n\n              var scrollableBodyTable = _DomHandler.default.findSingle(scrollableView, 'table.p-datatable-scrollable-body-table');\n\n              var scrollableHeaderTable = _DomHandler.default.findSingle(scrollableView, 'table.p-datatable-scrollable-header-table');\n\n              var scrollableFooterTable = _DomHandler.default.findSingle(scrollableView, 'table.p-datatable-scrollable-footer-table');\n\n              var resizeColumnIndex = _DomHandler.default.index(this.resizeColumn);\n\n              this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n              this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n              this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n            } else {\n              this.resizeColumn.style.width = newColumnWidth + 'px';\n\n              if (nextColumn) {\n                nextColumn.style.width = nextColumnWidth + 'px';\n              }\n            }\n          }\n        } else if (this.props.columnResizeMode === 'expand') {\n          if (this.props.scrollable) {\n            this.setScrollableItemsWidthOnExpandResize(this.resizeColumn, newColumnWidth, delta);\n          } else {\n            this.table.style.width = this.table.offsetWidth + delta + 'px';\n            this.resizeColumn.style.width = newColumnWidth + 'px';\n          }\n        }\n\n        if (this.props.onColumnResizeEnd) {\n          this.props.onColumnResizeEnd({\n            element: this.resizeColumn,\n            column: this.resizeColumnProps,\n            delta: delta\n          });\n        }\n\n        if (this.isStateful()) {\n          this.saveState();\n        }\n      }\n\n      this.resizerHelper.style.display = 'none';\n      this.resizeColumn = null;\n      this.resizeColumnProps = null;\n\n      _DomHandler.default.removeClass(this.container, 'p-unselectable-text');\n\n      this.unbindColumnResizeEvents();\n    }\n  }, {\n    key: \"setScrollableItemsWidthOnExpandResize\",\n    value: function setScrollableItemsWidthOnExpandResize(column, newColumnWidth, delta) {\n      var scrollableView = column ? this.findParentScrollableView(column) : this.container;\n\n      var scrollableBody = _DomHandler.default.findSingle(scrollableView, '.p-datatable-scrollable-body');\n\n      var scrollableHeader = _DomHandler.default.findSingle(scrollableView, '.p-datatable-scrollable-header');\n\n      var scrollableFooter = _DomHandler.default.findSingle(scrollableView, '.p-datatable-scrollable-footer');\n\n      var scrollableBodyTable = _DomHandler.default.findSingle(scrollableBody, 'table.p-datatable-scrollable-body-table');\n\n      var scrollableHeaderTable = _DomHandler.default.findSingle(scrollableHeader, 'table.p-datatable-scrollable-header-table');\n\n      var scrollableFooterTable = _DomHandler.default.findSingle(scrollableFooter, 'table.p-datatable-scrollable-footer-table');\n\n      var scrollableBodyTableWidth = column ? scrollableBodyTable.offsetWidth + delta : newColumnWidth;\n      var scrollableHeaderTableWidth = column ? scrollableHeaderTable.offsetWidth + delta : newColumnWidth;\n      var isContainerInViewport = this.container.offsetWidth >= scrollableBodyTableWidth;\n\n      var setWidth = function setWidth(container, table, width, isContainerInViewport) {\n        if (container && table) {\n          container.style.width = isContainerInViewport ? width + _DomHandler.default.calculateScrollbarWidth(scrollableBody) + 'px' : 'auto';\n          table.style.width = width + 'px';\n        }\n      };\n\n      setWidth(scrollableBody, scrollableBodyTable, scrollableBodyTableWidth, isContainerInViewport);\n      setWidth(scrollableHeader, scrollableHeaderTable, scrollableHeaderTableWidth, isContainerInViewport);\n      setWidth(scrollableFooter, scrollableFooterTable, scrollableHeaderTableWidth, isContainerInViewport);\n\n      if (column) {\n        var resizeColumnIndex = _DomHandler.default.index(column);\n\n        this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, null);\n        this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, null);\n        this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, null);\n      }\n    }\n  }, {\n    key: \"findParentScrollableView\",\n    value: function findParentScrollableView(column) {\n      if (column) {\n        var parent = column.parentElement;\n\n        while (parent && !_DomHandler.default.hasClass(parent, 'p-datatable-scrollable-view')) {\n          parent = parent.parentElement;\n        }\n\n        return parent;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"resizeColGroup\",\n    value: function resizeColGroup(table, resizeColumnIndex, newColumnWidth, nextColumnWidth) {\n      if (table) {\n        var colGroup = table.children[0].nodeName === 'COLGROUP' ? table.children[0] : null;\n\n        if (colGroup) {\n          var col = colGroup.children[resizeColumnIndex];\n          var nextCol = col.nextElementSibling;\n          col.style.width = newColumnWidth + 'px';\n\n          if (nextCol && nextColumnWidth) {\n            nextCol.style.width = nextColumnWidth + 'px';\n          }\n        } else {\n          throw new Error(\"Scrollable tables require a colgroup to support resizable columns\");\n        }\n      }\n    }\n  }, {\n    key: \"bindColumnResizeEvents\",\n    value: function bindColumnResizeEvents() {\n      var _this3 = this;\n\n      this.documentColumnResizeListener = document.addEventListener('mousemove', function (event) {\n        if (_this3.columnResizing) {\n          _this3.onColumnResize(event);\n        }\n      });\n      this.documentColumnResizeEndListener = document.addEventListener('mouseup', function (event) {\n        if (_this3.columnResizing) {\n          _this3.columnResizing = false;\n\n          _this3.onColumnResizeEnd(event);\n        }\n      });\n    }\n  }, {\n    key: \"unbindColumnResizeEvents\",\n    value: function unbindColumnResizeEvents() {\n      document.removeEventListener('document', this.documentColumnResizeListener);\n      document.removeEventListener('document', this.documentColumnResizeEndListener);\n    }\n  }, {\n    key: \"findParentHeader\",\n    value: function findParentHeader(element) {\n      if (element.nodeName === 'TH') {\n        return element;\n      } else {\n        var parent = element.parentElement;\n\n        while (parent.nodeName !== 'TH') {\n          parent = parent.parentElement;\n          if (!parent) break;\n        }\n\n        return parent;\n      }\n    }\n  }, {\n    key: \"onColumnDragStart\",\n    value: function onColumnDragStart(event) {\n      if (this.columnResizing) {\n        event.preventDefault();\n        return;\n      }\n\n      this.iconWidth = _DomHandler.default.getHiddenElementOuterWidth(this.reorderIndicatorUp);\n      this.iconHeight = _DomHandler.default.getHiddenElementOuterHeight(this.reorderIndicatorUp);\n      this.draggedColumn = this.findParentHeader(event.target);\n      event.dataTransfer.setData('text', 'b'); // Firefox requires this to make dragging possible\n    }\n  }, {\n    key: \"onColumnDragOver\",\n    value: function onColumnDragOver(event) {\n      var dropHeader = this.findParentHeader(event.target);\n\n      if (this.props.reorderableColumns && this.draggedColumn && dropHeader) {\n        event.preventDefault();\n\n        var containerOffset = _DomHandler.default.getOffset(this.container);\n\n        var dropHeaderOffset = _DomHandler.default.getOffset(dropHeader);\n\n        if (this.draggedColumn !== dropHeader) {\n          var targetLeft = dropHeaderOffset.left - containerOffset.left; //let targetTop =  containerOffset.top - dropHeaderOffset.top;\n\n          var columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\n          this.reorderIndicatorUp.style.top = dropHeaderOffset.top - containerOffset.top - (this.iconHeight - 1) + 'px';\n          this.reorderIndicatorDown.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\n\n          if (event.pageX > columnCenter) {\n            this.reorderIndicatorUp.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(this.iconWidth / 2) + 'px';\n            this.reorderIndicatorDown.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(this.iconWidth / 2) + 'px';\n            this.dropPosition = 1;\n          } else {\n            this.reorderIndicatorUp.style.left = targetLeft - Math.ceil(this.iconWidth / 2) + 'px';\n            this.reorderIndicatorDown.style.left = targetLeft - Math.ceil(this.iconWidth / 2) + 'px';\n            this.dropPosition = -1;\n          }\n\n          this.reorderIndicatorUp.style.display = 'block';\n          this.reorderIndicatorDown.style.display = 'block';\n        }\n      }\n    }\n  }, {\n    key: \"onColumnDragLeave\",\n    value: function onColumnDragLeave(event) {\n      if (this.props.reorderableColumns && this.draggedColumn) {\n        event.preventDefault();\n        this.reorderIndicatorUp.style.display = 'none';\n        this.reorderIndicatorDown.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"onColumnDrop\",\n    value: function onColumnDrop(event) {\n      event.preventDefault();\n\n      if (this.draggedColumn) {\n        var dragIndex = _DomHandler.default.index(this.draggedColumn);\n\n        var dropIndex = _DomHandler.default.index(this.findParentHeader(event.target));\n\n        var allowDrop = dragIndex !== dropIndex;\n\n        if (allowDrop && (dropIndex - dragIndex === 1 && this.dropPosition === -1 || dragIndex - dropIndex === 1 && this.dropPosition === 1)) {\n          allowDrop = false;\n        }\n\n        if (allowDrop) {\n          var columns = this.state.columnOrder ? this.getColumns() : _react.default.Children.toArray(this.props.children);\n\n          _ObjectUtils.default.reorderArray(columns, dragIndex, dropIndex);\n\n          var columnOrder = [];\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = columns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var column = _step.value;\n              columnOrder.push(column.props.columnKey || column.props.field);\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          this.setState({\n            columnOrder: columnOrder\n          });\n\n          if (this.props.onColReorder) {\n            this.props.onColReorder({\n              dragIndex: dragIndex,\n              dropIndex: dropIndex,\n              columns: columns\n            });\n          }\n        }\n\n        this.reorderIndicatorUp.style.display = 'none';\n        this.reorderIndicatorDown.style.display = 'none';\n        this.draggedColumn.draggable = false;\n        this.draggedColumn = null;\n        this.dropPosition = null;\n      }\n    }\n  }, {\n    key: \"onVirtualScroll\",\n    value: function onVirtualScroll(event) {\n      var _this4 = this;\n\n      if (this.virtualScrollTimer) {\n        clearTimeout(this.virtualScrollTimer);\n      }\n\n      this.virtualScrollTimer = setTimeout(function () {\n        if (_this4.props.onVirtualScroll) {\n          _this4.props.onVirtualScroll({\n            first: (event.page - 1) * _this4.props.rows,\n            rows: _this4.props.virtualScroll ? _this4.props.rows * 2 : _this4.props.rows\n          });\n        }\n      }, this.props.virtualScrollDelay);\n    }\n  }, {\n    key: \"exportCSV\",\n    value: function exportCSV() {\n      var _this5 = this;\n\n      var data = this.processData();\n      var csv = \"\\uFEFF\";\n\n      var columns = _react.default.Children.toArray(this.props.children); //headers\n\n\n      for (var i = 0; i < columns.length; i++) {\n        if (columns[i].props.field) {\n          csv += '\"' + (columns[i].props.header || columns[i].props.field) + '\"';\n\n          if (i < columns.length - 1) {\n            csv += this.props.csvSeparator;\n          }\n        }\n      } //body        \n\n\n      data.forEach(function (record, i) {\n        csv += '\\n';\n\n        for (var _i = 0; _i < columns.length; _i++) {\n          if (columns[_i].props.field) {\n            csv += '\"' + _ObjectUtils.default.resolveFieldData(record, columns[_i].props.field) + '\"';\n\n            if (_i < columns.length - 1) {\n              csv += _this5.props.csvSeparator;\n            }\n          }\n        }\n      });\n      var blob = new Blob([csv], {\n        type: 'text/csv;charset=utf-8;'\n      });\n\n      if (window.navigator.msSaveOrOpenBlob) {\n        navigator.msSaveOrOpenBlob(blob, this.props.exportFilename + '.csv');\n      } else {\n        var link = document.createElement(\"a\");\n        link.style.display = 'none';\n        document.body.appendChild(link);\n\n        if (link.download !== undefined) {\n          link.setAttribute('href', URL.createObjectURL(blob));\n          link.setAttribute('download', this.props.exportFilename + '.csv');\n          link.click();\n        } else {\n          csv = 'data:text/csv;charset=utf-8,' + csv;\n          window.open(encodeURI(csv));\n        }\n\n        document.body.removeChild(link);\n      }\n    }\n  }, {\n    key: \"closeEditingCell\",\n    value: function closeEditingCell() {\n      document.body.click();\n    }\n  }, {\n    key: \"onHeaderCheckboxClick\",\n    value: function onHeaderCheckboxClick(event) {\n      var selection;\n\n      if (!event.checked) {\n        var visibleData = this.hasFilter() ? this.processData() : this.props.value;\n        selection = _toConsumableArray(visibleData);\n      } else {\n        selection = [];\n      }\n\n      if (this.props.onSelectionChange) {\n        this.props.onSelectionChange({\n          originalEvent: event,\n          value: selection\n        });\n      }\n    }\n  }, {\n    key: \"filterLocal\",\n    value: function filterLocal(value, localFilters) {\n      var filteredValue = [];\n      var filters = localFilters || this.getFilters();\n\n      var columns = _react.default.Children.toArray(this.props.children);\n\n      for (var i = 0; i < value.length; i++) {\n        var localMatch = true;\n        var globalMatch = false;\n\n        for (var j = 0; j < columns.length; j++) {\n          var col = columns[j];\n          var filterMeta = filters ? filters[col.props.field] : null; //local\n\n          if (filterMeta) {\n            var filterValue = filterMeta.value;\n            var filterField = col.props.field;\n            var filterMatchMode = filterMeta.matchMode || col.props.filterMatchMode;\n\n            var dataFieldValue = _ObjectUtils.default.resolveFieldData(value[i], filterField);\n\n            var filterConstraint = filterMatchMode === 'custom' ? col.props.filterFunction : _ObjectUtils.default.filterConstraints[filterMatchMode];\n\n            if (!filterConstraint(dataFieldValue, filterValue)) {\n              localMatch = false;\n            }\n\n            if (!localMatch) {\n              break;\n            }\n          } //global\n\n\n          if (!col.props.excludeGlobalFilter && this.props.globalFilter && !globalMatch) {\n            globalMatch = _ObjectUtils.default.filterConstraints['contains'](_ObjectUtils.default.resolveFieldData(value[i], col.props.field), this.props.globalFilter);\n          }\n        }\n\n        var matches = localMatch;\n\n        if (this.props.globalFilter) {\n          matches = localMatch && globalMatch;\n        }\n\n        if (matches) {\n          filteredValue.push(value[i]);\n        }\n      }\n\n      if (filteredValue.length === value.length) {\n        filteredValue = value;\n      }\n\n      return filteredValue;\n    }\n  }, {\n    key: \"processData\",\n    value: function processData(localState) {\n      var data = this.props.value;\n\n      if (!this.props.lazy) {\n        if (data && data.length) {\n          var sortField = localState && localState.sortField || this.getSortField();\n          var sortOrder = localState && localState.sortOrder || this.getSortOrder();\n          var multiSortMeta = localState && localState.multiSortMeta || this.getMultiSortMeta();\n\n          if (sortField || multiSortMeta) {\n            if (this.props.sortMode === 'single') data = this.sortSingle(data, sortField, sortOrder);else if (this.props.sortMode === 'multiple') data = this.sortMultiple(data, multiSortMeta);\n          }\n\n          var localFilters = localState && localState.filters || this.getFilters();\n\n          if (localFilters || this.props.globalFilter) {\n            data = this.filterLocal(data, localFilters);\n          }\n        }\n      }\n\n      return data;\n    }\n  }, {\n    key: \"isAllSelected\",\n    value: function isAllSelected() {\n      var visibleData = this.hasFilter() ? this.processData() : this.props.value;\n      return this.props.selection && visibleData && visibleData.length && this.props.selection.length === visibleData.length;\n    }\n  }, {\n    key: \"getFrozenColumns\",\n    value: function getFrozenColumns(columns) {\n      var frozenColumns = null;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = columns[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var col = _step2.value;\n\n          if (col.props.frozen) {\n            frozenColumns = frozenColumns || [];\n            frozenColumns.push(col);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return frozenColumns;\n    }\n  }, {\n    key: \"getScrollableColumns\",\n    value: function getScrollableColumns(columns) {\n      var scrollableColumns = null;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = columns[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var col = _step3.value;\n\n          if (!col.props.frozen) {\n            scrollableColumns = scrollableColumns || [];\n            scrollableColumns.push(col);\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return scrollableColumns;\n    }\n  }, {\n    key: \"getFrozenSelectionModeInColumn\",\n    value: function getFrozenSelectionModeInColumn(columns) {\n      if (Array.isArray(columns)) {\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = columns[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var col = _step4.value;\n            if (col.props.selectionMode) return col.props.selectionMode;\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"createTableHeader\",\n    value: function createTableHeader(value, columns, columnGroup) {\n      return _react.default.createElement(_TableHeader.TableHeader, {\n        value: value,\n        onSort: this.onSort,\n        sortField: this.getSortField(),\n        sortOrder: this.getSortOrder(),\n        multiSortMeta: this.getMultiSortMeta(),\n        columnGroup: columnGroup,\n        resizableColumns: this.props.resizableColumns,\n        onColumnResizeStart: this.onColumnResizeStart,\n        onFilter: this.onFilter,\n        onHeaderCheckboxClick: this.onHeaderCheckboxClick,\n        headerCheckboxSelected: this.isAllSelected(),\n        reorderableColumns: this.props.reorderableColumns,\n        onColumnDragStart: this.onColumnDragStart,\n        filters: this.getFilters(),\n        onColumnDragOver: this.onColumnDragOver,\n        onColumnDragLeave: this.onColumnDragLeave,\n        onColumnDrop: this.onColumnDrop,\n        tabIndex: this.props.tabIndex\n      }, columns);\n    }\n  }, {\n    key: \"createTableBody\",\n    value: function createTableBody(value, columns) {\n      return _react.default.createElement(_TableBody.TableBody, {\n        value: value,\n        first: this.getFirst(),\n        rows: this.getRows(),\n        lazy: this.props.lazy,\n        dataKey: this.props.dataKey,\n        compareSelectionBy: this.props.compareSelectionBy,\n        selectionMode: this.props.selectionMode,\n        selection: this.props.selection,\n        metaKeySelection: this.props.metaKeySelection,\n        frozenSelectionMode: this.frozenSelectionMode,\n        onSelectionChange: this.props.onSelectionChange,\n        onRowClick: this.props.onRowClick,\n        onRowDoubleClick: this.props.onRowDoubleClick,\n        onRowSelect: this.props.onRowSelect,\n        onRowUnselect: this.props.onRowUnselect,\n        contextMenuSelection: this.props.contextMenuSelection,\n        onContextMenuSelectionChange: this.props.onContextMenuSelectionChange,\n        onContextMenu: this.props.onContextMenu,\n        expandedRows: this.props.expandedRows,\n        onRowToggle: this.props.onRowToggle,\n        rowExpansionTemplate: this.props.rowExpansionTemplate,\n        onRowExpand: this.props.onRowExpand,\n        onRowCollapse: this.props.onRowCollapse,\n        responsive: this.props.responsive,\n        emptyMessage: this.props.emptyMessage,\n        virtualScroll: this.props.virtualScroll,\n        virtualRowHeight: this.props.virtualRowHeight,\n        loading: this.props.loading,\n        groupField: this.props.groupField,\n        rowGroupMode: this.props.rowGroupMode,\n        rowGroupHeaderTemplate: this.props.rowGroupHeaderTemplate,\n        rowGroupFooterTemplate: this.props.rowGroupFooterTemplate,\n        sortField: this.getSortField(),\n        rowClassName: this.props.rowClassName,\n        onRowReorder: this.props.onRowReorder\n      }, columns);\n    }\n  }, {\n    key: \"createTableLoadingBody\",\n    value: function createTableLoadingBody(columns) {\n      if (this.props.virtualScroll) {\n        return _react.default.createElement(_TableLoadingBody.TableLoadingBody, {\n          columns: columns,\n          rows: this.getRows()\n        });\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"createTableFooter\",\n    value: function createTableFooter(columns, columnGroup) {\n      if (this.hasFooter()) return _react.default.createElement(_TableFooter.TableFooter, {\n        columnGroup: columnGroup\n      }, columns);else return null;\n    }\n  }, {\n    key: \"createScrollableView\",\n    value: function createScrollableView(value, columns, frozen, headerColumnGroup, footerColumnGroup, totalRecords) {\n      return _react.default.createElement(_ScrollableView.ScrollableView, {\n        columns: columns,\n        header: this.createTableHeader(value, columns, headerColumnGroup),\n        body: this.createTableBody(value, columns),\n        loadingBody: this.createTableLoadingBody(columns),\n        frozenBody: this.props.frozenValue ? this.createTableBody(this.props.frozenValue, columns) : null,\n        footer: this.createTableFooter(columns, footerColumnGroup),\n        tableStyle: this.props.tableStyle,\n        tableClassName: this.props.tableClassName,\n        scrollHeight: this.props.scrollHeight,\n        frozen: frozen,\n        frozenWidth: this.props.frozenWidth,\n        virtualScroll: this.props.virtualScroll,\n        virtualRowHeight: this.props.virtualRowHeight,\n        rows: this.props.rows,\n        totalRecords: totalRecords,\n        onVirtualScroll: this.onVirtualScroll,\n        loading: this.props.loading\n      });\n    }\n  }, {\n    key: \"getColumns\",\n    value: function getColumns() {\n      var columns = _react.default.Children.toArray(this.props.children);\n\n      if (columns && columns.length) {\n        if (this.props.reorderableColumns && this.state.columnOrder) {\n          var orderedColumns = [];\n          var _iteratorNormalCompletion5 = true;\n          var _didIteratorError5 = false;\n          var _iteratorError5 = undefined;\n\n          try {\n            for (var _iterator5 = this.state.columnOrder[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n              var columnKey = _step5.value;\n              var column = this.findColumnByKey(columns, columnKey);\n\n              if (column) {\n                orderedColumns.push(column);\n              }\n            }\n          } catch (err) {\n            _didIteratorError5 = true;\n            _iteratorError5 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n                _iterator5.return();\n              }\n            } finally {\n              if (_didIteratorError5) {\n                throw _iteratorError5;\n              }\n            }\n          }\n\n          return [].concat(orderedColumns, _toConsumableArray(columns.filter(function (item) {\n            return orderedColumns.indexOf(item) < 0;\n          })));\n        } else {\n          return columns;\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"findColumnByKey\",\n    value: function findColumnByKey(columns, key) {\n      if (columns && columns.length) {\n        for (var i = 0; i < columns.length; i++) {\n          var child = columns[i];\n\n          if (child.props.columnKey === key || child.props.field === key) {\n            return child;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getTotalRecords\",\n    value: function getTotalRecords(data) {\n      return this.props.lazy ? this.props.totalRecords : data ? data.length : 0;\n    }\n  }, {\n    key: \"resetColumnOrder\",\n    value: function resetColumnOrder() {\n      var columns = _react.default.Children.toArray(this.props.children);\n\n      var columnOrder = [];\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = columns[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var column = _step6.value;\n          columnOrder.push(column.props.columnKey || column.props.field);\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n            _iterator6.return();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n\n      this.setState({\n        columnOrder: columnOrder\n      });\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var iconClassName = (0, _classnames.default)('p-datatable-loading-icon pi-spin', this.props.loadingIcon);\n      return _react.default.createElement(\"div\", {\n        className: \"p-datatable-loading\"\n      }, _react.default.createElement(\"div\", {\n        className: \"p-datatable-loading-overlay p-component-overlay\"\n      }), _react.default.createElement(\"div\", {\n        className: \"p-datatable-loading-content\"\n      }, _react.default.createElement(\"i\", {\n        className: iconClassName\n      })));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.isStateful() && this.props.resizableColumns) {\n        this.restoreColumnWidths();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.isStateful()) {\n        this.saveState();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var value = this.processData();\n      var columns = this.getColumns();\n      var totalRecords = this.getTotalRecords(value);\n      var className = (0, _classnames.default)('p-datatable p-component', {\n        'p-datatable-responsive': this.props.responsive,\n        'p-datatable-resizable': this.props.resizableColumns,\n        'p-datatable-resizable-fit': this.props.resizableColumns && this.props.columnResizeMode === 'fit',\n        'p-datatable-scrollable': this.props.scrollable,\n        'p-datatable-virtual-scrollable': this.props.virtualScroll,\n        'p-datatable-auto-layout': this.props.autoLayout,\n        'p-datatable-hoverable-rows': this.props.selectionMode\n      }, this.props.className);\n      var paginatorTop = this.props.paginator && this.props.paginatorPosition !== 'bottom' && this.createPaginator('top', totalRecords);\n      var paginatorBottom = this.props.paginator && this.props.paginatorPosition !== 'top' && this.createPaginator('bottom', totalRecords);\n\n      var headerFacet = this.props.header && _react.default.createElement(\"div\", {\n        className: \"p-datatable-header\"\n      }, this.props.header);\n\n      var footerFacet = this.props.footer && _react.default.createElement(\"div\", {\n        className: \"p-datatable-footer\"\n      }, this.props.footer);\n\n      var resizeHelper = this.props.resizableColumns && _react.default.createElement(\"div\", {\n        ref: function ref(el) {\n          _this6.resizerHelper = el;\n        },\n        className: \"p-column-resizer-helper p-highlight\",\n        style: {\n          display: 'none'\n        }\n      });\n\n      var tableContent = null;\n\n      var resizeIndicatorUp = this.props.reorderableColumns && _react.default.createElement(\"span\", {\n        ref: function ref(el) {\n          _this6.reorderIndicatorUp = el;\n        },\n        className: \"pi pi-arrow-down p-datatable-reorder-indicator-up\",\n        style: {\n          position: 'absolute',\n          display: 'none'\n        }\n      });\n\n      var resizeIndicatorDown = this.props.reorderableColumns && _react.default.createElement(\"span\", {\n        ref: function ref(el) {\n          _this6.reorderIndicatorDown = el;\n        },\n        className: \"pi pi-arrow-up p-datatable-reorder-indicator-down\",\n        style: {\n          position: 'absolute',\n          display: 'none'\n        }\n      });\n\n      var loader;\n\n      if (this.props.loading) {\n        loader = this.renderLoader();\n      }\n\n      if (this.props.scrollable) {\n        this.frozenSelectionMode = this.frozenSelectionMode || this.getFrozenSelectionModeInColumn(columns);\n        var frozenColumns = this.getFrozenColumns(columns);\n        var scrollableColumns = frozenColumns ? this.getScrollableColumns(columns) : columns;\n        var frozenView, scrollableView;\n\n        if (frozenColumns) {\n          frozenView = this.createScrollableView(value, frozenColumns, true, this.props.frozenHeaderColumnGroup, this.props.frozenFooterColumnGroup, totalRecords);\n        }\n\n        scrollableView = this.createScrollableView(value, scrollableColumns, false, this.props.headerColumnGroup, this.props.footerColumnGroup, totalRecords);\n        tableContent = _react.default.createElement(\"div\", {\n          className: \"p-datatable-scrollable-wrapper\"\n        }, frozenView, scrollableView);\n      } else {\n        var tableHeader = this.createTableHeader(value, columns, this.props.headerColumnGroup);\n        var tableBody = this.createTableBody(value, columns);\n        var tableFooter = this.createTableFooter(columns, this.props.footerColumnGroup);\n        tableContent = _react.default.createElement(\"div\", {\n          className: \"p-datatable-wrapper\"\n        }, _react.default.createElement(\"table\", {\n          style: this.props.tableStyle,\n          className: this.props.tableClassName,\n          ref: function ref(el) {\n            _this6.table = el;\n          }\n        }, tableHeader, tableFooter, tableBody));\n      }\n\n      return _react.default.createElement(\"div\", {\n        id: this.props.id,\n        className: className,\n        style: this.props.style,\n        ref: function ref(el) {\n          _this6.container = el;\n        }\n      }, loader, headerFacet, paginatorTop, tableContent, paginatorBottom, footerFacet, resizeHelper, resizeIndicatorUp, resizeIndicatorDown);\n    }\n  }]);\n\n  return DataTable;\n}(_react.Component);\n\nexports.DataTable = DataTable;\n\n_defineProperty(DataTable, \"defaultProps\", {\n  id: null,\n  value: null,\n  header: null,\n  footer: null,\n  style: null,\n  className: null,\n  tableStyle: null,\n  tableClassName: null,\n  paginator: false,\n  paginatorPosition: 'bottom',\n  alwaysShowPaginator: true,\n  paginatorTemplate: 'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown',\n  paginatorLeft: null,\n  paginatorRight: null,\n  pageLinkSize: 5,\n  rowsPerPageOptions: null,\n  currentPageReportTemplate: '({currentPage} of {totalPages})',\n  first: null,\n  rows: null,\n  totalRecords: null,\n  lazy: false,\n  sortField: null,\n  sortOrder: null,\n  multiSortMeta: null,\n  sortMode: 'single',\n  defaultSortOrder: 1,\n  emptyMessage: null,\n  selectionMode: null,\n  selection: null,\n  onSelectionChange: null,\n  contextMenuSelection: null,\n  onContextMenuSelectionChange: null,\n  compareSelectionBy: 'deepEquals',\n  dataKey: null,\n  metaKeySelection: true,\n  headerColumnGroup: null,\n  footerColumnGroup: null,\n  frozenHeaderColumnGroup: null,\n  frozenFooterColumnGroup: null,\n  rowExpansionTemplate: null,\n  expandedRows: null,\n  onRowToggle: null,\n  responsive: false,\n  resizableColumns: false,\n  columnResizeMode: 'fit',\n  reorderableColumns: false,\n  filters: null,\n  globalFilter: null,\n  scrollable: false,\n  scrollHeight: null,\n  virtualScroll: false,\n  virtualScrollDelay: 150,\n  virtualRowHeight: 28,\n  frozenWidth: null,\n  frozenValue: null,\n  csvSeparator: ',',\n  exportFilename: 'download',\n  rowGroupMode: null,\n  autoLayout: false,\n  rowClassName: null,\n  rowGroupHeaderTemplate: null,\n  rowGroupFooterTemplate: null,\n  loading: false,\n  loadingIcon: 'pi pi-spinner',\n  tabIndex: '0',\n  stateKey: null,\n  stateStorage: 'session',\n  onColumnResizeEnd: null,\n  onSort: null,\n  onPage: null,\n  onFilter: null,\n  onVirtualScroll: null,\n  onRowClick: null,\n  onRowDoubleClick: null,\n  onRowSelect: null,\n  onRowUnselect: null,\n  onRowExpand: null,\n  onRowCollapse: null,\n  onContextMenu: null,\n  onColReorder: null,\n  onRowReorder: null,\n  onValueChange: null\n});\n\n_defineProperty(DataTable, \"propTypes\", {\n  id: _propTypes.default.string,\n  value: _propTypes.default.array,\n  header: _propTypes.default.any,\n  footer: _propTypes.default.any,\n  style: _propTypes.default.object,\n  className: _propTypes.default.string,\n  tableStyle: _propTypes.default.any,\n  tableClassName: _propTypes.default.string,\n  paginator: _propTypes.default.bool,\n  paginatorPosition: _propTypes.default.string,\n  alwaysShowPaginator: _propTypes.default.bool,\n  paginatorTemplate: _propTypes.default.string,\n  paginatorLeft: _propTypes.default.any,\n  paginatorRight: _propTypes.default.any,\n  pageLinkSize: _propTypes.default.number,\n  rowsPerPageOptions: _propTypes.default.array,\n  currentPageReportTemplate: _propTypes.default.string,\n  first: _propTypes.default.number,\n  rows: _propTypes.default.number,\n  totalRecords: _propTypes.default.number,\n  lazy: _propTypes.default.bool,\n  sortField: _propTypes.default.string,\n  sortOrder: _propTypes.default.number,\n  multiSortMeta: _propTypes.default.array,\n  sortMode: _propTypes.default.string,\n  defaultSortOrder: _propTypes.default.number,\n  emptyMessage: _propTypes.default.string,\n  selectionMode: _propTypes.default.string,\n  selection: _propTypes.default.any,\n  onSelectionChange: _propTypes.default.func,\n  compareSelectionBy: _propTypes.default.string,\n  dataKey: _propTypes.default.string,\n  metaKeySelection: _propTypes.default.bool,\n  headerColumnGroup: _propTypes.default.any,\n  footerColumnGroup: _propTypes.default.any,\n  frozenHeaderColumnGroup: _propTypes.default.any,\n  frozenFooterColumnGroup: _propTypes.default.any,\n  rowExpansionTemplate: _propTypes.default.func,\n  expandedRows: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object]),\n  onRowToggle: _propTypes.default.func,\n  responsive: _propTypes.default.bool,\n  resizableColumns: _propTypes.default.bool,\n  columnResizeMode: _propTypes.default.string,\n  reorderableColumns: _propTypes.default.bool,\n  filters: _propTypes.default.object,\n  globalFilter: _propTypes.default.any,\n  scrollable: _propTypes.default.bool,\n  scrollHeight: _propTypes.default.string,\n  virtualScroll: _propTypes.default.bool,\n  virtualScrollDelay: _propTypes.default.number,\n  virtualRowHeight: _propTypes.default.number,\n  frozenWidth: _propTypes.default.string,\n  frozenValue: _propTypes.default.array,\n  csvSeparator: _propTypes.default.string,\n  exportFilename: _propTypes.default.string,\n  rowGroupMode: _propTypes.default.string,\n  autoLayout: _propTypes.default.bool,\n  rowClassName: _propTypes.default.func,\n  rowGroupHeaderTemplate: _propTypes.default.func,\n  rowGroupFooterTemplate: _propTypes.default.func,\n  loading: _propTypes.default.bool,\n  loadingIcon: _propTypes.default.string,\n  tabIndex: _propTypes.default.string,\n  stateKey: _propTypes.default.string,\n  stateStorage: _propTypes.default.string,\n  onColumnResizeEnd: _propTypes.default.func,\n  onSort: _propTypes.default.func,\n  onPage: _propTypes.default.func,\n  onFilter: _propTypes.default.func,\n  onVirtualScroll: _propTypes.default.func,\n  onRowClick: _propTypes.default.func,\n  onRowDoubleClick: _propTypes.default.func,\n  onRowSelect: _propTypes.default.func,\n  onRowUnselect: _propTypes.default.func,\n  onRowExpand: _propTypes.default.func,\n  onRowCollapse: _propTypes.default.func,\n  onContextMenu: _propTypes.default.func,\n  onColReorder: _propTypes.default.func,\n  onRowReorder: _propTypes.default.func,\n  onValueChange: _propTypes.default.func\n});","map":{"version":3,"sources":["D:/Github/Admin_Panel/node_modules/primereact/components/datatable/DataTable.js"],"names":["Object","defineProperty","exports","value","DataTable","_classnames","_interopRequireDefault","require","_propTypes","_react","_interopRequireWildcard","_Paginator","_DomHandler","_ObjectUtils","_ScrollableView","_TableBody","_TableFooter","_TableHeader","_TableLoadingBody","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","default","_typeof","Symbol","iterator","constructor","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","enumerable","forEach","_defineProperty","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","toString","Array","from","isArray","arr2","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_inherits","subClass","superClass","create","_setPrototypeOf","p","ReferenceError","_Component","_this","state","onPage","first","rows","onSort","sortField","sortOrder","multiSortMeta","onFilter","filters","isStateful","restoreState","onPageChange","bind","onColumnResizeStart","onHeaderCheckboxClick","onColumnDragStart","onColumnDragOver","onColumnDragLeave","onColumnDrop","onVirtualScroll","frozenSelectionMode","getFirst","getRows","getSortField","getSortOrder","getMultiSortMeta","getFilters","getStorage","stateStorage","window","localStorage","sessionStorage","Error","stateKey","saveState","storage","paginator","hasFilter","resizableColumns","saveColumnWidths","reorderableColumns","columnOrder","expandedRows","selection","onSelectionChange","setItem","JSON","stringify","clearState","removeItem","stateString","getItem","restoredState","parse","columnWidthsState","columnWidths","tableWidthState","tableWidth","onRowToggle","data","widths","headers","find","container","map","header","push","getOuterWidth","join","columnResizeMode","scrollable","findSingle","style","width","table","restoreColumnWidths","split","setScrollableItemsWidthOnExpandResize","tableViewChild","nativeElement","containerViewChild","headerCols","bodyCols","col","index","event","setState","onValueChange","createPaginator","position","totalRecords","className","createElement","Paginator","pageLinkSize","template","paginatorTemplate","rowsPerPageOptions","currentPageReportTemplate","leftContent","paginatorLeft","rightContent","paginatorRight","alwaysShow","alwaysShowPaginator","defaultSortOrder","columnSortable","sortable","columnSortFunction","sortFunction","sortMode","metaKey","originalEvent","ctrlKey","addSortMeta","field","order","processData","meta","sortSingle","sort","data1","data2","value1","resolveFieldData","value2","result","localeCompare","undefined","numeric","sortMultiple","_this2","multisortField","String","mode","matchMode","currentFilters","newFilters","isFilterBlank","trim","hasFooter","children","footerColumnGroup","footer","containerLeft","getOffset","left","resizeColumn","columnEl","resizeColumnProps","columnProps","columnResizing","lastResizerHelperX","pageX","scrollLeft","bindColumnResizeEvents","onColumnResize","addClass","resizerHelper","height","offsetHeight","top","display","onColumnResizeEnd","delta","offsetLeft","columnWidth","offsetWidth","newColumnWidth","minWidth","parseInt","nextColumn","nextElementSibling","nextColumnWidth","scrollableView","findParentScrollableView","scrollableBodyTable","scrollableHeaderTable","scrollableFooterTable","resizeColumnIndex","resizeColGroup","element","column","removeClass","unbindColumnResizeEvents","scrollableBody","scrollableHeader","scrollableFooter","scrollableBodyTableWidth","scrollableHeaderTableWidth","isContainerInViewport","setWidth","calculateScrollbarWidth","parent","parentElement","hasClass","colGroup","nodeName","nextCol","_this3","documentColumnResizeListener","document","addEventListener","documentColumnResizeEndListener","removeEventListener","findParentHeader","preventDefault","iconWidth","getHiddenElementOuterWidth","reorderIndicatorUp","iconHeight","getHiddenElementOuterHeight","draggedColumn","dataTransfer","setData","dropHeader","containerOffset","dropHeaderOffset","targetLeft","columnCenter","reorderIndicatorDown","Math","ceil","dropPosition","dragIndex","dropIndex","allowDrop","columns","getColumns","Children","toArray","reorderArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","next","done","columnKey","err","return","onColReorder","draggable","_this4","virtualScrollTimer","clearTimeout","setTimeout","page","virtualScroll","virtualScrollDelay","exportCSV","_this5","csv","csvSeparator","record","_i","blob","Blob","type","navigator","msSaveOrOpenBlob","exportFilename","link","body","appendChild","download","setAttribute","URL","createObjectURL","click","open","encodeURI","removeChild","closeEditingCell","checked","visibleData","filterLocal","localFilters","filteredValue","localMatch","globalMatch","j","filterMeta","filterValue","filterField","filterMatchMode","dataFieldValue","filterConstraint","filterFunction","filterConstraints","excludeGlobalFilter","globalFilter","matches","localState","lazy","isAllSelected","getFrozenColumns","frozenColumns","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","frozen","getScrollableColumns","scrollableColumns","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","getFrozenSelectionModeInColumn","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_iterator4","_step4","selectionMode","createTableHeader","columnGroup","TableHeader","headerCheckboxSelected","tabIndex","createTableBody","TableBody","dataKey","compareSelectionBy","metaKeySelection","onRowClick","onRowDoubleClick","onRowSelect","onRowUnselect","contextMenuSelection","onContextMenuSelectionChange","onContextMenu","rowExpansionTemplate","onRowExpand","onRowCollapse","responsive","emptyMessage","virtualRowHeight","loading","groupField","rowGroupMode","rowGroupHeaderTemplate","rowGroupFooterTemplate","rowClassName","onRowReorder","createTableLoadingBody","TableLoadingBody","createTableFooter","TableFooter","createScrollableView","headerColumnGroup","ScrollableView","loadingBody","frozenBody","frozenValue","tableStyle","tableClassName","scrollHeight","frozenWidth","orderedColumns","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","findColumnByKey","item","indexOf","child","getTotalRecords","resetColumnOrder","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","renderLoader","iconClassName","loadingIcon","componentDidMount","componentDidUpdate","render","_this6","autoLayout","paginatorTop","paginatorPosition","paginatorBottom","headerFacet","footerFacet","resizeHelper","ref","el","tableContent","resizeIndicatorUp","resizeIndicatorDown","loader","frozenView","frozenHeaderColumnGroup","frozenFooterColumnGroup","tableHeader","tableBody","tableFooter","id","Component","string","array","any","object","bool","number","func","oneOfType"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DataTable = void 0;\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _Paginator = require(\"../paginator/Paginator\");\n\nvar _DomHandler = _interopRequireDefault(require(\"../utils/DomHandler\"));\n\nvar _ObjectUtils = _interopRequireDefault(require(\"../utils/ObjectUtils\"));\n\nvar _ScrollableView = require(\"./ScrollableView\");\n\nvar _TableBody = require(\"./TableBody\");\n\nvar _TableFooter = require(\"./TableFooter\");\n\nvar _TableHeader = require(\"./TableHeader\");\n\nvar _TableLoadingBody = require(\"./TableLoadingBody\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar DataTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DataTable, _Component);\n\n  function DataTable(props) {\n    var _this;\n\n    _classCallCheck(this, DataTable);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DataTable).call(this, props));\n    var state = {};\n\n    if (!_this.props.onPage) {\n      state.first = props.first;\n      state.rows = props.rows;\n    }\n\n    if (!_this.props.onSort) {\n      state.sortField = props.sortField;\n      state.sortOrder = props.sortOrder;\n      state.multiSortMeta = props.multiSortMeta;\n    }\n\n    if (!_this.props.onFilter) {\n      state.filters = props.filters;\n    }\n\n    if (_this.isStateful()) {\n      _this.restoreState(state);\n    }\n\n    if (Object.keys(state).length) {\n      _this.state = state;\n    }\n\n    _this.onPageChange = _this.onPageChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSort = _this.onSort.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onFilter = _this.onFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnResizeStart = _this.onColumnResizeStart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onHeaderCheckboxClick = _this.onHeaderCheckboxClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnDragStart = _this.onColumnDragStart.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnDragOver = _this.onColumnDragOver.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnDragLeave = _this.onColumnDragLeave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onColumnDrop = _this.onColumnDrop.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onVirtualScroll = _this.onVirtualScroll.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.frozenSelectionMode = null;\n    return _this;\n  }\n\n  _createClass(DataTable, [{\n    key: \"getFirst\",\n    value: function getFirst() {\n      return this.props.onPage ? this.props.first : this.state.first;\n    }\n  }, {\n    key: \"getRows\",\n    value: function getRows() {\n      return this.props.onPage ? this.props.rows : this.state.rows;\n    }\n  }, {\n    key: \"getSortField\",\n    value: function getSortField() {\n      return this.props.onSort ? this.props.sortField : this.state.sortField;\n    }\n  }, {\n    key: \"getSortOrder\",\n    value: function getSortOrder() {\n      return this.props.onSort ? this.props.sortOrder : this.state.sortOrder;\n    }\n  }, {\n    key: \"getMultiSortMeta\",\n    value: function getMultiSortMeta() {\n      return this.props.onSort ? this.props.multiSortMeta : this.state.multiSortMeta;\n    }\n  }, {\n    key: \"getFilters\",\n    value: function getFilters() {\n      return this.props.onFilter ? this.props.filters : this.state.filters;\n    }\n  }, {\n    key: \"getStorage\",\n    value: function getStorage() {\n      switch (this.props.stateStorage) {\n        case 'local':\n          return window.localStorage;\n\n        case 'session':\n          return window.sessionStorage;\n\n        default:\n          throw new Error(this.props.stateStorage + ' is not a valid value for the state storage, supported values are \"local\" and \"session\".');\n      }\n    }\n  }, {\n    key: \"isStateful\",\n    value: function isStateful() {\n      return this.props.stateKey != null;\n    }\n  }, {\n    key: \"saveState\",\n    value: function saveState() {\n      var storage = this.getStorage();\n      var state = {};\n\n      if (this.props.paginator) {\n        state.first = this.getFirst();\n        state.rows = this.getRows();\n      }\n\n      if (this.getSortField()) {\n        state.sortField = this.getSortField();\n        state.sortOrder = this.getSortOrder();\n        state.multiSortMeta = this.getMultiSortMeta();\n      }\n\n      if (this.hasFilter()) {\n        state.filters = this.getFilters();\n      }\n\n      if (this.props.resizableColumns) {\n        this.saveColumnWidths(state);\n      }\n\n      if (this.props.reorderableColumns) {\n        state.columnOrder = this.state.columnOrder;\n      }\n\n      if (this.props.expandedRows) {\n        state.expandedRows = this.props.expandedRows;\n      }\n\n      if (this.props.selection && this.props.onSelectionChange) {\n        state.selection = this.props.selection;\n      }\n\n      if (Object.keys(state).length) {\n        storage.setItem(this.props.stateKey, JSON.stringify(state));\n      }\n    }\n  }, {\n    key: \"clearState\",\n    value: function clearState() {\n      var storage = this.getStorage();\n\n      if (this.props.stateKey) {\n        storage.removeItem(this.props.stateKey);\n      }\n    }\n  }, {\n    key: \"restoreState\",\n    value: function restoreState(state) {\n      var storage = this.getStorage();\n      var stateString = storage.getItem(this.props.stateKey);\n\n      if (stateString) {\n        var restoredState = JSON.parse(stateString);\n\n        if (this.props.paginator) {\n          if (this.props.onPage) {\n            this.props.onPage({\n              first: restoredState.first,\n              rows: restoredState.rows\n            });\n          } else {\n            state.first = restoredState.first;\n            state.rows = restoredState.rows;\n          }\n        }\n\n        if (restoredState.sortField) {\n          if (this.props.onSort) {\n            this.props.onSort({\n              sortField: restoredState.sortField,\n              sortOrder: restoredState.sortOrder,\n              multiSortMeta: restoredState.multiSortMeta\n            });\n          } else {\n            state.sortField = restoredState.sortField;\n            state.sortOrder = restoredState.sortOrder;\n            state.multiSortMeta = restoredState.multiSortMeta;\n          }\n        }\n\n        if (restoredState.filters) {\n          if (this.props.onFilter) {\n            this.props.onFilter({\n              filters: restoredState.filters\n            });\n          } else {\n            state.filters = restoredState.filters;\n          }\n        }\n\n        if (this.props.resizableColumns) {\n          this.columnWidthsState = restoredState.columnWidths;\n          this.tableWidthState = restoredState.tableWidth;\n        }\n\n        if (this.props.reorderableColumns) {\n          state.columnOrder = restoredState.columnOrder;\n        }\n\n        if (restoredState.expandedRows && this.props.onRowToggle) {\n          this.props.onRowToggle({\n            data: restoredState.expandedRows\n          });\n        }\n\n        if (restoredState.selection && this.props.onSelectionChange) {\n          this.props.onSelectionChange({\n            value: restoredState.selection\n          });\n        }\n      }\n    }\n  }, {\n    key: \"saveColumnWidths\",\n    value: function saveColumnWidths(state) {\n      var widths = [];\n\n      var headers = _DomHandler.default.find(this.container, '.p-datatable-thead > tr > th');\n\n      headers.map(function (header) {\n        return widths.push(_DomHandler.default.getOuterWidth(header));\n      });\n      state.columnWidths = widths.join(',');\n\n      if (this.props.columnResizeMode === 'expand') {\n        state.tableWidth = this.props.scrollable ? _DomHandler.default.findSingle(this.container, '.p-datatable-scrollable-header-table').style.width : _DomHandler.default.getOuterWidth(this.table) + 'px';\n      }\n    }\n  }, {\n    key: \"restoreColumnWidths\",\n    value: function restoreColumnWidths() {\n      if (this.columnWidthsState) {\n        var widths = this.columnWidthsState.split(',');\n\n        if (this.props.columnResizeMode === 'expand' && this.tableWidthState) {\n          if (this.props.scrollable) {\n            this.setScrollableItemsWidthOnExpandResize(null, this.tableWidthState, 0);\n          } else {\n            this.tableViewChild.nativeElement.style.width = this.tableWidthState;\n            this.containerViewChild.nativeElement.style.width = this.tableWidthState;\n          }\n        }\n\n        if (this.props.scrollable) {\n          var headerCols = _DomHandler.default.find(this.container, '.p-datatable-scrollable-header-table > colgroup > col');\n\n          var bodyCols = _DomHandler.default.find(this.container, '.p-datatable-scrollable-body-table > colgroup > col');\n\n          headerCols.map(function (col, index) {\n            return col.style.width = widths[index] + 'px';\n          });\n          bodyCols.map(function (col, index) {\n            return col.style.width = widths[index] + 'px';\n          });\n        } else {\n          var headers = _DomHandler.default.find(this.table, '.p-datatable-thead > tr > th');\n\n          headers.map(function (header, index) {\n            return header.style.width = widths[index] + 'px';\n          });\n        }\n      }\n    }\n  }, {\n    key: \"onPageChange\",\n    value: function onPageChange(event) {\n      if (this.props.onPage) this.props.onPage(event);else this.setState({\n        first: event.first,\n        rows: event.rows\n      });\n\n      if (this.props.onValueChange) {\n        this.props.onValueChange();\n      }\n    }\n  }, {\n    key: \"createPaginator\",\n    value: function createPaginator(position, totalRecords, data) {\n      var className = 'p-paginator-' + position;\n      return _react.default.createElement(_Paginator.Paginator, {\n        first: this.getFirst(),\n        rows: this.getRows(),\n        pageLinkSize: this.props.pageLinkSize,\n        className: className,\n        onPageChange: this.onPageChange,\n        template: this.props.paginatorTemplate,\n        totalRecords: totalRecords,\n        rowsPerPageOptions: this.props.rowsPerPageOptions,\n        currentPageReportTemplate: this.props.currentPageReportTemplate,\n        leftContent: this.props.paginatorLeft,\n        rightContent: this.props.paginatorRight,\n        alwaysShow: this.props.alwaysShowPaginator\n      });\n    }\n  }, {\n    key: \"onSort\",\n    value: function onSort(event) {\n      var sortField = event.sortField;\n      var sortOrder = this.getSortField() === event.sortField ? this.getSortOrder() * -1 : this.props.defaultSortOrder;\n      var multiSortMeta;\n      this.columnSortable = event.sortable;\n      this.columnSortFunction = event.sortFunction;\n\n      if (this.props.sortMode === 'multiple') {\n        var metaKey = event.originalEvent.metaKey || event.originalEvent.ctrlKey;\n        multiSortMeta = this.getMultiSortMeta();\n\n        if (!multiSortMeta || !metaKey) {\n          multiSortMeta = [];\n        }\n\n        this.addSortMeta({\n          field: sortField,\n          order: sortOrder\n        }, multiSortMeta);\n      }\n\n      if (this.props.onSort) {\n        this.props.onSort({\n          sortField: sortField,\n          sortOrder: sortOrder,\n          multiSortMeta: multiSortMeta\n        });\n      } else {\n        this.setState({\n          sortField: sortField,\n          sortOrder: sortOrder,\n          first: 0,\n          multiSortMeta: multiSortMeta\n        });\n      }\n\n      if (this.props.onValueChange) {\n        this.props.onValueChange(this.processData({\n          sortField: sortField,\n          sortOrder: sortOrder,\n          multiSortMeta: multiSortMeta\n        }));\n      }\n    }\n  }, {\n    key: \"addSortMeta\",\n    value: function addSortMeta(meta, multiSortMeta) {\n      var index = -1;\n\n      for (var i = 0; i < multiSortMeta.length; i++) {\n        if (multiSortMeta[i].field === meta.field) {\n          index = i;\n          break;\n        }\n      }\n\n      if (index >= 0) multiSortMeta[index] = meta;else multiSortMeta.push(meta);\n    }\n  }, {\n    key: \"sortSingle\",\n    value: function sortSingle(data, sortField, sortOrder) {\n      var value = _toConsumableArray(data);\n\n      if (this.columnSortable && this.columnSortFunction) {\n        value = this.columnSortFunction({\n          field: this.getSortField(),\n          order: this.getSortOrder()\n        });\n      } else {\n        value.sort(function (data1, data2) {\n          var value1 = _ObjectUtils.default.resolveFieldData(data1, sortField);\n\n          var value2 = _ObjectUtils.default.resolveFieldData(data2, sortField);\n\n          var result = null;\n          if (value1 == null && value2 != null) result = -1;else if (value1 != null && value2 == null) result = 1;else if (value1 == null && value2 == null) result = 0;else if (typeof value1 === 'string' && typeof value2 === 'string') result = value1.localeCompare(value2, undefined, {\n            numeric: true\n          });else result = value1 < value2 ? -1 : value1 > value2 ? 1 : 0;\n          return sortOrder * result;\n        });\n      }\n\n      return value;\n    }\n  }, {\n    key: \"sortMultiple\",\n    value: function sortMultiple(data, multiSortMeta) {\n      var _this2 = this;\n\n      var value = _toConsumableArray(data);\n\n      value.sort(function (data1, data2) {\n        return _this2.multisortField(data1, data2, multiSortMeta, 0);\n      });\n      return value;\n    }\n  }, {\n    key: \"multisortField\",\n    value: function multisortField(data1, data2, multiSortMeta, index) {\n      var value1 = _ObjectUtils.default.resolveFieldData(data1, multiSortMeta[index].field);\n\n      var value2 = _ObjectUtils.default.resolveFieldData(data2, multiSortMeta[index].field);\n\n      var result = null;\n\n      if (typeof value1 === 'string' || value1 instanceof String) {\n        if (value1.localeCompare && value1 !== value2) {\n          return multiSortMeta[index].order * value1.localeCompare(value2, undefined, {\n            numeric: true\n          });\n        }\n      } else {\n        result = value1 < value2 ? -1 : 1;\n      }\n\n      if (value1 === value2) {\n        return multiSortMeta.length - 1 > index ? this.multisortField(data1, data2, multiSortMeta, index + 1) : 0;\n      }\n\n      return multiSortMeta[index].order * result;\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(value, field, mode) {\n      this.onFilter({\n        value: value,\n        field: field,\n        matchMode: mode\n      });\n    }\n  }, {\n    key: \"onFilter\",\n    value: function onFilter(event) {\n      var currentFilters = this.getFilters();\n      var newFilters = currentFilters ? _objectSpread({}, currentFilters) : {};\n      if (!this.isFilterBlank(event.value)) newFilters[event.field] = {\n        value: event.value,\n        matchMode: event.matchMode\n      };else if (newFilters[event.field]) delete newFilters[event.field];\n\n      if (this.props.onFilter) {\n        this.props.onFilter({\n          filters: newFilters\n        });\n      } else {\n        this.setState({\n          first: 0,\n          filters: newFilters\n        });\n      }\n\n      if (this.props.onValueChange) {\n        this.props.onValueChange(this.processData({\n          filters: newFilters\n        }));\n      }\n    }\n  }, {\n    key: \"hasFilter\",\n    value: function hasFilter() {\n      var filters = this.getFilters();\n      return filters && Object.keys(filters).length > 0;\n    }\n  }, {\n    key: \"isFilterBlank\",\n    value: function isFilterBlank(filter) {\n      if (filter !== null && filter !== undefined) {\n        if (typeof filter === 'string' && filter.trim().length === 0 || filter instanceof Array && filter.length === 0) return true;else return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"hasFooter\",\n    value: function hasFooter() {\n      if (this.props.children) {\n        if (this.props.footerColumnGroup) {\n          return true;\n        } else {\n          if (this.props.children instanceof Array) {\n            for (var i = 0; i < this.props.children.length; i++) {\n              if (this.props.children[i].props.footer) {\n                return true;\n              }\n            }\n          } else {\n            return this.props.children.props.footer !== null;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"onColumnResizeStart\",\n    value: function onColumnResizeStart(event) {\n      var containerLeft = _DomHandler.default.getOffset(this.container).left;\n\n      this.resizeColumn = event.columnEl;\n      this.resizeColumnProps = event.columnProps;\n      this.columnResizing = true;\n      this.lastResizerHelperX = event.originalEvent.pageX - containerLeft + this.container.scrollLeft;\n      this.bindColumnResizeEvents();\n    }\n  }, {\n    key: \"onColumnResize\",\n    value: function onColumnResize(event) {\n      var containerLeft = _DomHandler.default.getOffset(this.container).left;\n\n      _DomHandler.default.addClass(this.container, 'p-unselectable-text');\n\n      this.resizerHelper.style.height = this.container.offsetHeight + 'px';\n      this.resizerHelper.style.top = 0 + 'px';\n      this.resizerHelper.style.left = event.pageX - containerLeft + this.container.scrollLeft + 'px';\n      this.resizerHelper.style.display = 'block';\n    }\n  }, {\n    key: \"onColumnResizeEnd\",\n    value: function onColumnResizeEnd(event) {\n      var delta = this.resizerHelper.offsetLeft - this.lastResizerHelperX;\n      var columnWidth = this.resizeColumn.offsetWidth;\n      var newColumnWidth = columnWidth + delta;\n      var minWidth = this.resizeColumn.style.minWidth || 15;\n\n      if (columnWidth + delta > parseInt(minWidth, 10)) {\n        if (this.props.columnResizeMode === 'fit') {\n          var nextColumn = this.resizeColumn.nextElementSibling;\n          var nextColumnWidth = nextColumn.offsetWidth - delta;\n\n          if (newColumnWidth > 15 && nextColumnWidth > 15) {\n            if (this.props.scrollable) {\n              var scrollableView = this.findParentScrollableView(this.resizeColumn);\n\n              var scrollableBodyTable = _DomHandler.default.findSingle(scrollableView, 'table.p-datatable-scrollable-body-table');\n\n              var scrollableHeaderTable = _DomHandler.default.findSingle(scrollableView, 'table.p-datatable-scrollable-header-table');\n\n              var scrollableFooterTable = _DomHandler.default.findSingle(scrollableView, 'table.p-datatable-scrollable-footer-table');\n\n              var resizeColumnIndex = _DomHandler.default.index(this.resizeColumn);\n\n              this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n              this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n              this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, nextColumnWidth);\n            } else {\n              this.resizeColumn.style.width = newColumnWidth + 'px';\n\n              if (nextColumn) {\n                nextColumn.style.width = nextColumnWidth + 'px';\n              }\n            }\n          }\n        } else if (this.props.columnResizeMode === 'expand') {\n          if (this.props.scrollable) {\n            this.setScrollableItemsWidthOnExpandResize(this.resizeColumn, newColumnWidth, delta);\n          } else {\n            this.table.style.width = this.table.offsetWidth + delta + 'px';\n            this.resizeColumn.style.width = newColumnWidth + 'px';\n          }\n        }\n\n        if (this.props.onColumnResizeEnd) {\n          this.props.onColumnResizeEnd({\n            element: this.resizeColumn,\n            column: this.resizeColumnProps,\n            delta: delta\n          });\n        }\n\n        if (this.isStateful()) {\n          this.saveState();\n        }\n      }\n\n      this.resizerHelper.style.display = 'none';\n      this.resizeColumn = null;\n      this.resizeColumnProps = null;\n\n      _DomHandler.default.removeClass(this.container, 'p-unselectable-text');\n\n      this.unbindColumnResizeEvents();\n    }\n  }, {\n    key: \"setScrollableItemsWidthOnExpandResize\",\n    value: function setScrollableItemsWidthOnExpandResize(column, newColumnWidth, delta) {\n      var scrollableView = column ? this.findParentScrollableView(column) : this.container;\n\n      var scrollableBody = _DomHandler.default.findSingle(scrollableView, '.p-datatable-scrollable-body');\n\n      var scrollableHeader = _DomHandler.default.findSingle(scrollableView, '.p-datatable-scrollable-header');\n\n      var scrollableFooter = _DomHandler.default.findSingle(scrollableView, '.p-datatable-scrollable-footer');\n\n      var scrollableBodyTable = _DomHandler.default.findSingle(scrollableBody, 'table.p-datatable-scrollable-body-table');\n\n      var scrollableHeaderTable = _DomHandler.default.findSingle(scrollableHeader, 'table.p-datatable-scrollable-header-table');\n\n      var scrollableFooterTable = _DomHandler.default.findSingle(scrollableFooter, 'table.p-datatable-scrollable-footer-table');\n\n      var scrollableBodyTableWidth = column ? scrollableBodyTable.offsetWidth + delta : newColumnWidth;\n      var scrollableHeaderTableWidth = column ? scrollableHeaderTable.offsetWidth + delta : newColumnWidth;\n      var isContainerInViewport = this.container.offsetWidth >= scrollableBodyTableWidth;\n\n      var setWidth = function setWidth(container, table, width, isContainerInViewport) {\n        if (container && table) {\n          container.style.width = isContainerInViewport ? width + _DomHandler.default.calculateScrollbarWidth(scrollableBody) + 'px' : 'auto';\n          table.style.width = width + 'px';\n        }\n      };\n\n      setWidth(scrollableBody, scrollableBodyTable, scrollableBodyTableWidth, isContainerInViewport);\n      setWidth(scrollableHeader, scrollableHeaderTable, scrollableHeaderTableWidth, isContainerInViewport);\n      setWidth(scrollableFooter, scrollableFooterTable, scrollableHeaderTableWidth, isContainerInViewport);\n\n      if (column) {\n        var resizeColumnIndex = _DomHandler.default.index(column);\n\n        this.resizeColGroup(scrollableHeaderTable, resizeColumnIndex, newColumnWidth, null);\n        this.resizeColGroup(scrollableBodyTable, resizeColumnIndex, newColumnWidth, null);\n        this.resizeColGroup(scrollableFooterTable, resizeColumnIndex, newColumnWidth, null);\n      }\n    }\n  }, {\n    key: \"findParentScrollableView\",\n    value: function findParentScrollableView(column) {\n      if (column) {\n        var parent = column.parentElement;\n\n        while (parent && !_DomHandler.default.hasClass(parent, 'p-datatable-scrollable-view')) {\n          parent = parent.parentElement;\n        }\n\n        return parent;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"resizeColGroup\",\n    value: function resizeColGroup(table, resizeColumnIndex, newColumnWidth, nextColumnWidth) {\n      if (table) {\n        var colGroup = table.children[0].nodeName === 'COLGROUP' ? table.children[0] : null;\n\n        if (colGroup) {\n          var col = colGroup.children[resizeColumnIndex];\n          var nextCol = col.nextElementSibling;\n          col.style.width = newColumnWidth + 'px';\n\n          if (nextCol && nextColumnWidth) {\n            nextCol.style.width = nextColumnWidth + 'px';\n          }\n        } else {\n          throw new Error(\"Scrollable tables require a colgroup to support resizable columns\");\n        }\n      }\n    }\n  }, {\n    key: \"bindColumnResizeEvents\",\n    value: function bindColumnResizeEvents() {\n      var _this3 = this;\n\n      this.documentColumnResizeListener = document.addEventListener('mousemove', function (event) {\n        if (_this3.columnResizing) {\n          _this3.onColumnResize(event);\n        }\n      });\n      this.documentColumnResizeEndListener = document.addEventListener('mouseup', function (event) {\n        if (_this3.columnResizing) {\n          _this3.columnResizing = false;\n\n          _this3.onColumnResizeEnd(event);\n        }\n      });\n    }\n  }, {\n    key: \"unbindColumnResizeEvents\",\n    value: function unbindColumnResizeEvents() {\n      document.removeEventListener('document', this.documentColumnResizeListener);\n      document.removeEventListener('document', this.documentColumnResizeEndListener);\n    }\n  }, {\n    key: \"findParentHeader\",\n    value: function findParentHeader(element) {\n      if (element.nodeName === 'TH') {\n        return element;\n      } else {\n        var parent = element.parentElement;\n\n        while (parent.nodeName !== 'TH') {\n          parent = parent.parentElement;\n          if (!parent) break;\n        }\n\n        return parent;\n      }\n    }\n  }, {\n    key: \"onColumnDragStart\",\n    value: function onColumnDragStart(event) {\n      if (this.columnResizing) {\n        event.preventDefault();\n        return;\n      }\n\n      this.iconWidth = _DomHandler.default.getHiddenElementOuterWidth(this.reorderIndicatorUp);\n      this.iconHeight = _DomHandler.default.getHiddenElementOuterHeight(this.reorderIndicatorUp);\n      this.draggedColumn = this.findParentHeader(event.target);\n      event.dataTransfer.setData('text', 'b'); // Firefox requires this to make dragging possible\n    }\n  }, {\n    key: \"onColumnDragOver\",\n    value: function onColumnDragOver(event) {\n      var dropHeader = this.findParentHeader(event.target);\n\n      if (this.props.reorderableColumns && this.draggedColumn && dropHeader) {\n        event.preventDefault();\n\n        var containerOffset = _DomHandler.default.getOffset(this.container);\n\n        var dropHeaderOffset = _DomHandler.default.getOffset(dropHeader);\n\n        if (this.draggedColumn !== dropHeader) {\n          var targetLeft = dropHeaderOffset.left - containerOffset.left; //let targetTop =  containerOffset.top - dropHeaderOffset.top;\n\n          var columnCenter = dropHeaderOffset.left + dropHeader.offsetWidth / 2;\n          this.reorderIndicatorUp.style.top = dropHeaderOffset.top - containerOffset.top - (this.iconHeight - 1) + 'px';\n          this.reorderIndicatorDown.style.top = dropHeaderOffset.top - containerOffset.top + dropHeader.offsetHeight + 'px';\n\n          if (event.pageX > columnCenter) {\n            this.reorderIndicatorUp.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(this.iconWidth / 2) + 'px';\n            this.reorderIndicatorDown.style.left = targetLeft + dropHeader.offsetWidth - Math.ceil(this.iconWidth / 2) + 'px';\n            this.dropPosition = 1;\n          } else {\n            this.reorderIndicatorUp.style.left = targetLeft - Math.ceil(this.iconWidth / 2) + 'px';\n            this.reorderIndicatorDown.style.left = targetLeft - Math.ceil(this.iconWidth / 2) + 'px';\n            this.dropPosition = -1;\n          }\n\n          this.reorderIndicatorUp.style.display = 'block';\n          this.reorderIndicatorDown.style.display = 'block';\n        }\n      }\n    }\n  }, {\n    key: \"onColumnDragLeave\",\n    value: function onColumnDragLeave(event) {\n      if (this.props.reorderableColumns && this.draggedColumn) {\n        event.preventDefault();\n        this.reorderIndicatorUp.style.display = 'none';\n        this.reorderIndicatorDown.style.display = 'none';\n      }\n    }\n  }, {\n    key: \"onColumnDrop\",\n    value: function onColumnDrop(event) {\n      event.preventDefault();\n\n      if (this.draggedColumn) {\n        var dragIndex = _DomHandler.default.index(this.draggedColumn);\n\n        var dropIndex = _DomHandler.default.index(this.findParentHeader(event.target));\n\n        var allowDrop = dragIndex !== dropIndex;\n\n        if (allowDrop && (dropIndex - dragIndex === 1 && this.dropPosition === -1 || dragIndex - dropIndex === 1 && this.dropPosition === 1)) {\n          allowDrop = false;\n        }\n\n        if (allowDrop) {\n          var columns = this.state.columnOrder ? this.getColumns() : _react.default.Children.toArray(this.props.children);\n\n          _ObjectUtils.default.reorderArray(columns, dragIndex, dropIndex);\n\n          var columnOrder = [];\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = columns[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var column = _step.value;\n              columnOrder.push(column.props.columnKey || column.props.field);\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n\n          this.setState({\n            columnOrder: columnOrder\n          });\n\n          if (this.props.onColReorder) {\n            this.props.onColReorder({\n              dragIndex: dragIndex,\n              dropIndex: dropIndex,\n              columns: columns\n            });\n          }\n        }\n\n        this.reorderIndicatorUp.style.display = 'none';\n        this.reorderIndicatorDown.style.display = 'none';\n        this.draggedColumn.draggable = false;\n        this.draggedColumn = null;\n        this.dropPosition = null;\n      }\n    }\n  }, {\n    key: \"onVirtualScroll\",\n    value: function onVirtualScroll(event) {\n      var _this4 = this;\n\n      if (this.virtualScrollTimer) {\n        clearTimeout(this.virtualScrollTimer);\n      }\n\n      this.virtualScrollTimer = setTimeout(function () {\n        if (_this4.props.onVirtualScroll) {\n          _this4.props.onVirtualScroll({\n            first: (event.page - 1) * _this4.props.rows,\n            rows: _this4.props.virtualScroll ? _this4.props.rows * 2 : _this4.props.rows\n          });\n        }\n      }, this.props.virtualScrollDelay);\n    }\n  }, {\n    key: \"exportCSV\",\n    value: function exportCSV() {\n      var _this5 = this;\n\n      var data = this.processData();\n      var csv = \"\\uFEFF\";\n\n      var columns = _react.default.Children.toArray(this.props.children); //headers\n\n\n      for (var i = 0; i < columns.length; i++) {\n        if (columns[i].props.field) {\n          csv += '\"' + (columns[i].props.header || columns[i].props.field) + '\"';\n\n          if (i < columns.length - 1) {\n            csv += this.props.csvSeparator;\n          }\n        }\n      } //body        \n\n\n      data.forEach(function (record, i) {\n        csv += '\\n';\n\n        for (var _i = 0; _i < columns.length; _i++) {\n          if (columns[_i].props.field) {\n            csv += '\"' + _ObjectUtils.default.resolveFieldData(record, columns[_i].props.field) + '\"';\n\n            if (_i < columns.length - 1) {\n              csv += _this5.props.csvSeparator;\n            }\n          }\n        }\n      });\n      var blob = new Blob([csv], {\n        type: 'text/csv;charset=utf-8;'\n      });\n\n      if (window.navigator.msSaveOrOpenBlob) {\n        navigator.msSaveOrOpenBlob(blob, this.props.exportFilename + '.csv');\n      } else {\n        var link = document.createElement(\"a\");\n        link.style.display = 'none';\n        document.body.appendChild(link);\n\n        if (link.download !== undefined) {\n          link.setAttribute('href', URL.createObjectURL(blob));\n          link.setAttribute('download', this.props.exportFilename + '.csv');\n          link.click();\n        } else {\n          csv = 'data:text/csv;charset=utf-8,' + csv;\n          window.open(encodeURI(csv));\n        }\n\n        document.body.removeChild(link);\n      }\n    }\n  }, {\n    key: \"closeEditingCell\",\n    value: function closeEditingCell() {\n      document.body.click();\n    }\n  }, {\n    key: \"onHeaderCheckboxClick\",\n    value: function onHeaderCheckboxClick(event) {\n      var selection;\n\n      if (!event.checked) {\n        var visibleData = this.hasFilter() ? this.processData() : this.props.value;\n        selection = _toConsumableArray(visibleData);\n      } else {\n        selection = [];\n      }\n\n      if (this.props.onSelectionChange) {\n        this.props.onSelectionChange({\n          originalEvent: event,\n          value: selection\n        });\n      }\n    }\n  }, {\n    key: \"filterLocal\",\n    value: function filterLocal(value, localFilters) {\n      var filteredValue = [];\n      var filters = localFilters || this.getFilters();\n\n      var columns = _react.default.Children.toArray(this.props.children);\n\n      for (var i = 0; i < value.length; i++) {\n        var localMatch = true;\n        var globalMatch = false;\n\n        for (var j = 0; j < columns.length; j++) {\n          var col = columns[j];\n          var filterMeta = filters ? filters[col.props.field] : null; //local\n\n          if (filterMeta) {\n            var filterValue = filterMeta.value;\n            var filterField = col.props.field;\n            var filterMatchMode = filterMeta.matchMode || col.props.filterMatchMode;\n\n            var dataFieldValue = _ObjectUtils.default.resolveFieldData(value[i], filterField);\n\n            var filterConstraint = filterMatchMode === 'custom' ? col.props.filterFunction : _ObjectUtils.default.filterConstraints[filterMatchMode];\n\n            if (!filterConstraint(dataFieldValue, filterValue)) {\n              localMatch = false;\n            }\n\n            if (!localMatch) {\n              break;\n            }\n          } //global\n\n\n          if (!col.props.excludeGlobalFilter && this.props.globalFilter && !globalMatch) {\n            globalMatch = _ObjectUtils.default.filterConstraints['contains'](_ObjectUtils.default.resolveFieldData(value[i], col.props.field), this.props.globalFilter);\n          }\n        }\n\n        var matches = localMatch;\n\n        if (this.props.globalFilter) {\n          matches = localMatch && globalMatch;\n        }\n\n        if (matches) {\n          filteredValue.push(value[i]);\n        }\n      }\n\n      if (filteredValue.length === value.length) {\n        filteredValue = value;\n      }\n\n      return filteredValue;\n    }\n  }, {\n    key: \"processData\",\n    value: function processData(localState) {\n      var data = this.props.value;\n\n      if (!this.props.lazy) {\n        if (data && data.length) {\n          var sortField = localState && localState.sortField || this.getSortField();\n          var sortOrder = localState && localState.sortOrder || this.getSortOrder();\n          var multiSortMeta = localState && localState.multiSortMeta || this.getMultiSortMeta();\n\n          if (sortField || multiSortMeta) {\n            if (this.props.sortMode === 'single') data = this.sortSingle(data, sortField, sortOrder);else if (this.props.sortMode === 'multiple') data = this.sortMultiple(data, multiSortMeta);\n          }\n\n          var localFilters = localState && localState.filters || this.getFilters();\n\n          if (localFilters || this.props.globalFilter) {\n            data = this.filterLocal(data, localFilters);\n          }\n        }\n      }\n\n      return data;\n    }\n  }, {\n    key: \"isAllSelected\",\n    value: function isAllSelected() {\n      var visibleData = this.hasFilter() ? this.processData() : this.props.value;\n      return this.props.selection && visibleData && visibleData.length && this.props.selection.length === visibleData.length;\n    }\n  }, {\n    key: \"getFrozenColumns\",\n    value: function getFrozenColumns(columns) {\n      var frozenColumns = null;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = columns[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var col = _step2.value;\n\n          if (col.props.frozen) {\n            frozenColumns = frozenColumns || [];\n            frozenColumns.push(col);\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return frozenColumns;\n    }\n  }, {\n    key: \"getScrollableColumns\",\n    value: function getScrollableColumns(columns) {\n      var scrollableColumns = null;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = columns[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var col = _step3.value;\n\n          if (!col.props.frozen) {\n            scrollableColumns = scrollableColumns || [];\n            scrollableColumns.push(col);\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return scrollableColumns;\n    }\n  }, {\n    key: \"getFrozenSelectionModeInColumn\",\n    value: function getFrozenSelectionModeInColumn(columns) {\n      if (Array.isArray(columns)) {\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = columns[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var col = _step4.value;\n            if (col.props.selectionMode) return col.props.selectionMode;\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"createTableHeader\",\n    value: function createTableHeader(value, columns, columnGroup) {\n      return _react.default.createElement(_TableHeader.TableHeader, {\n        value: value,\n        onSort: this.onSort,\n        sortField: this.getSortField(),\n        sortOrder: this.getSortOrder(),\n        multiSortMeta: this.getMultiSortMeta(),\n        columnGroup: columnGroup,\n        resizableColumns: this.props.resizableColumns,\n        onColumnResizeStart: this.onColumnResizeStart,\n        onFilter: this.onFilter,\n        onHeaderCheckboxClick: this.onHeaderCheckboxClick,\n        headerCheckboxSelected: this.isAllSelected(),\n        reorderableColumns: this.props.reorderableColumns,\n        onColumnDragStart: this.onColumnDragStart,\n        filters: this.getFilters(),\n        onColumnDragOver: this.onColumnDragOver,\n        onColumnDragLeave: this.onColumnDragLeave,\n        onColumnDrop: this.onColumnDrop,\n        tabIndex: this.props.tabIndex\n      }, columns);\n    }\n  }, {\n    key: \"createTableBody\",\n    value: function createTableBody(value, columns) {\n      return _react.default.createElement(_TableBody.TableBody, {\n        value: value,\n        first: this.getFirst(),\n        rows: this.getRows(),\n        lazy: this.props.lazy,\n        dataKey: this.props.dataKey,\n        compareSelectionBy: this.props.compareSelectionBy,\n        selectionMode: this.props.selectionMode,\n        selection: this.props.selection,\n        metaKeySelection: this.props.metaKeySelection,\n        frozenSelectionMode: this.frozenSelectionMode,\n        onSelectionChange: this.props.onSelectionChange,\n        onRowClick: this.props.onRowClick,\n        onRowDoubleClick: this.props.onRowDoubleClick,\n        onRowSelect: this.props.onRowSelect,\n        onRowUnselect: this.props.onRowUnselect,\n        contextMenuSelection: this.props.contextMenuSelection,\n        onContextMenuSelectionChange: this.props.onContextMenuSelectionChange,\n        onContextMenu: this.props.onContextMenu,\n        expandedRows: this.props.expandedRows,\n        onRowToggle: this.props.onRowToggle,\n        rowExpansionTemplate: this.props.rowExpansionTemplate,\n        onRowExpand: this.props.onRowExpand,\n        onRowCollapse: this.props.onRowCollapse,\n        responsive: this.props.responsive,\n        emptyMessage: this.props.emptyMessage,\n        virtualScroll: this.props.virtualScroll,\n        virtualRowHeight: this.props.virtualRowHeight,\n        loading: this.props.loading,\n        groupField: this.props.groupField,\n        rowGroupMode: this.props.rowGroupMode,\n        rowGroupHeaderTemplate: this.props.rowGroupHeaderTemplate,\n        rowGroupFooterTemplate: this.props.rowGroupFooterTemplate,\n        sortField: this.getSortField(),\n        rowClassName: this.props.rowClassName,\n        onRowReorder: this.props.onRowReorder\n      }, columns);\n    }\n  }, {\n    key: \"createTableLoadingBody\",\n    value: function createTableLoadingBody(columns) {\n      if (this.props.virtualScroll) {\n        return _react.default.createElement(_TableLoadingBody.TableLoadingBody, {\n          columns: columns,\n          rows: this.getRows()\n        });\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"createTableFooter\",\n    value: function createTableFooter(columns, columnGroup) {\n      if (this.hasFooter()) return _react.default.createElement(_TableFooter.TableFooter, {\n        columnGroup: columnGroup\n      }, columns);else return null;\n    }\n  }, {\n    key: \"createScrollableView\",\n    value: function createScrollableView(value, columns, frozen, headerColumnGroup, footerColumnGroup, totalRecords) {\n      return _react.default.createElement(_ScrollableView.ScrollableView, {\n        columns: columns,\n        header: this.createTableHeader(value, columns, headerColumnGroup),\n        body: this.createTableBody(value, columns),\n        loadingBody: this.createTableLoadingBody(columns),\n        frozenBody: this.props.frozenValue ? this.createTableBody(this.props.frozenValue, columns) : null,\n        footer: this.createTableFooter(columns, footerColumnGroup),\n        tableStyle: this.props.tableStyle,\n        tableClassName: this.props.tableClassName,\n        scrollHeight: this.props.scrollHeight,\n        frozen: frozen,\n        frozenWidth: this.props.frozenWidth,\n        virtualScroll: this.props.virtualScroll,\n        virtualRowHeight: this.props.virtualRowHeight,\n        rows: this.props.rows,\n        totalRecords: totalRecords,\n        onVirtualScroll: this.onVirtualScroll,\n        loading: this.props.loading\n      });\n    }\n  }, {\n    key: \"getColumns\",\n    value: function getColumns() {\n      var columns = _react.default.Children.toArray(this.props.children);\n\n      if (columns && columns.length) {\n        if (this.props.reorderableColumns && this.state.columnOrder) {\n          var orderedColumns = [];\n          var _iteratorNormalCompletion5 = true;\n          var _didIteratorError5 = false;\n          var _iteratorError5 = undefined;\n\n          try {\n            for (var _iterator5 = this.state.columnOrder[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n              var columnKey = _step5.value;\n              var column = this.findColumnByKey(columns, columnKey);\n\n              if (column) {\n                orderedColumns.push(column);\n              }\n            }\n          } catch (err) {\n            _didIteratorError5 = true;\n            _iteratorError5 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n                _iterator5.return();\n              }\n            } finally {\n              if (_didIteratorError5) {\n                throw _iteratorError5;\n              }\n            }\n          }\n\n          return [].concat(orderedColumns, _toConsumableArray(columns.filter(function (item) {\n            return orderedColumns.indexOf(item) < 0;\n          })));\n        } else {\n          return columns;\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"findColumnByKey\",\n    value: function findColumnByKey(columns, key) {\n      if (columns && columns.length) {\n        for (var i = 0; i < columns.length; i++) {\n          var child = columns[i];\n\n          if (child.props.columnKey === key || child.props.field === key) {\n            return child;\n          }\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getTotalRecords\",\n    value: function getTotalRecords(data) {\n      return this.props.lazy ? this.props.totalRecords : data ? data.length : 0;\n    }\n  }, {\n    key: \"resetColumnOrder\",\n    value: function resetColumnOrder() {\n      var columns = _react.default.Children.toArray(this.props.children);\n\n      var columnOrder = [];\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = columns[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var column = _step6.value;\n          columnOrder.push(column.props.columnKey || column.props.field);\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n            _iterator6.return();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n\n      this.setState({\n        columnOrder: columnOrder\n      });\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var iconClassName = (0, _classnames.default)('p-datatable-loading-icon pi-spin', this.props.loadingIcon);\n      return _react.default.createElement(\"div\", {\n        className: \"p-datatable-loading\"\n      }, _react.default.createElement(\"div\", {\n        className: \"p-datatable-loading-overlay p-component-overlay\"\n      }), _react.default.createElement(\"div\", {\n        className: \"p-datatable-loading-content\"\n      }, _react.default.createElement(\"i\", {\n        className: iconClassName\n      })));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.isStateful() && this.props.resizableColumns) {\n        this.restoreColumnWidths();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.isStateful()) {\n        this.saveState();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var value = this.processData();\n      var columns = this.getColumns();\n      var totalRecords = this.getTotalRecords(value);\n      var className = (0, _classnames.default)('p-datatable p-component', {\n        'p-datatable-responsive': this.props.responsive,\n        'p-datatable-resizable': this.props.resizableColumns,\n        'p-datatable-resizable-fit': this.props.resizableColumns && this.props.columnResizeMode === 'fit',\n        'p-datatable-scrollable': this.props.scrollable,\n        'p-datatable-virtual-scrollable': this.props.virtualScroll,\n        'p-datatable-auto-layout': this.props.autoLayout,\n        'p-datatable-hoverable-rows': this.props.selectionMode\n      }, this.props.className);\n      var paginatorTop = this.props.paginator && this.props.paginatorPosition !== 'bottom' && this.createPaginator('top', totalRecords);\n      var paginatorBottom = this.props.paginator && this.props.paginatorPosition !== 'top' && this.createPaginator('bottom', totalRecords);\n\n      var headerFacet = this.props.header && _react.default.createElement(\"div\", {\n        className: \"p-datatable-header\"\n      }, this.props.header);\n\n      var footerFacet = this.props.footer && _react.default.createElement(\"div\", {\n        className: \"p-datatable-footer\"\n      }, this.props.footer);\n\n      var resizeHelper = this.props.resizableColumns && _react.default.createElement(\"div\", {\n        ref: function ref(el) {\n          _this6.resizerHelper = el;\n        },\n        className: \"p-column-resizer-helper p-highlight\",\n        style: {\n          display: 'none'\n        }\n      });\n\n      var tableContent = null;\n\n      var resizeIndicatorUp = this.props.reorderableColumns && _react.default.createElement(\"span\", {\n        ref: function ref(el) {\n          _this6.reorderIndicatorUp = el;\n        },\n        className: \"pi pi-arrow-down p-datatable-reorder-indicator-up\",\n        style: {\n          position: 'absolute',\n          display: 'none'\n        }\n      });\n\n      var resizeIndicatorDown = this.props.reorderableColumns && _react.default.createElement(\"span\", {\n        ref: function ref(el) {\n          _this6.reorderIndicatorDown = el;\n        },\n        className: \"pi pi-arrow-up p-datatable-reorder-indicator-down\",\n        style: {\n          position: 'absolute',\n          display: 'none'\n        }\n      });\n\n      var loader;\n\n      if (this.props.loading) {\n        loader = this.renderLoader();\n      }\n\n      if (this.props.scrollable) {\n        this.frozenSelectionMode = this.frozenSelectionMode || this.getFrozenSelectionModeInColumn(columns);\n        var frozenColumns = this.getFrozenColumns(columns);\n        var scrollableColumns = frozenColumns ? this.getScrollableColumns(columns) : columns;\n        var frozenView, scrollableView;\n\n        if (frozenColumns) {\n          frozenView = this.createScrollableView(value, frozenColumns, true, this.props.frozenHeaderColumnGroup, this.props.frozenFooterColumnGroup, totalRecords);\n        }\n\n        scrollableView = this.createScrollableView(value, scrollableColumns, false, this.props.headerColumnGroup, this.props.footerColumnGroup, totalRecords);\n        tableContent = _react.default.createElement(\"div\", {\n          className: \"p-datatable-scrollable-wrapper\"\n        }, frozenView, scrollableView);\n      } else {\n        var tableHeader = this.createTableHeader(value, columns, this.props.headerColumnGroup);\n        var tableBody = this.createTableBody(value, columns);\n        var tableFooter = this.createTableFooter(columns, this.props.footerColumnGroup);\n        tableContent = _react.default.createElement(\"div\", {\n          className: \"p-datatable-wrapper\"\n        }, _react.default.createElement(\"table\", {\n          style: this.props.tableStyle,\n          className: this.props.tableClassName,\n          ref: function ref(el) {\n            _this6.table = el;\n          }\n        }, tableHeader, tableFooter, tableBody));\n      }\n\n      return _react.default.createElement(\"div\", {\n        id: this.props.id,\n        className: className,\n        style: this.props.style,\n        ref: function ref(el) {\n          _this6.container = el;\n        }\n      }, loader, headerFacet, paginatorTop, tableContent, paginatorBottom, footerFacet, resizeHelper, resizeIndicatorUp, resizeIndicatorDown);\n    }\n  }]);\n\n  return DataTable;\n}(_react.Component);\n\nexports.DataTable = DataTable;\n\n_defineProperty(DataTable, \"defaultProps\", {\n  id: null,\n  value: null,\n  header: null,\n  footer: null,\n  style: null,\n  className: null,\n  tableStyle: null,\n  tableClassName: null,\n  paginator: false,\n  paginatorPosition: 'bottom',\n  alwaysShowPaginator: true,\n  paginatorTemplate: 'FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown',\n  paginatorLeft: null,\n  paginatorRight: null,\n  pageLinkSize: 5,\n  rowsPerPageOptions: null,\n  currentPageReportTemplate: '({currentPage} of {totalPages})',\n  first: null,\n  rows: null,\n  totalRecords: null,\n  lazy: false,\n  sortField: null,\n  sortOrder: null,\n  multiSortMeta: null,\n  sortMode: 'single',\n  defaultSortOrder: 1,\n  emptyMessage: null,\n  selectionMode: null,\n  selection: null,\n  onSelectionChange: null,\n  contextMenuSelection: null,\n  onContextMenuSelectionChange: null,\n  compareSelectionBy: 'deepEquals',\n  dataKey: null,\n  metaKeySelection: true,\n  headerColumnGroup: null,\n  footerColumnGroup: null,\n  frozenHeaderColumnGroup: null,\n  frozenFooterColumnGroup: null,\n  rowExpansionTemplate: null,\n  expandedRows: null,\n  onRowToggle: null,\n  responsive: false,\n  resizableColumns: false,\n  columnResizeMode: 'fit',\n  reorderableColumns: false,\n  filters: null,\n  globalFilter: null,\n  scrollable: false,\n  scrollHeight: null,\n  virtualScroll: false,\n  virtualScrollDelay: 150,\n  virtualRowHeight: 28,\n  frozenWidth: null,\n  frozenValue: null,\n  csvSeparator: ',',\n  exportFilename: 'download',\n  rowGroupMode: null,\n  autoLayout: false,\n  rowClassName: null,\n  rowGroupHeaderTemplate: null,\n  rowGroupFooterTemplate: null,\n  loading: false,\n  loadingIcon: 'pi pi-spinner',\n  tabIndex: '0',\n  stateKey: null,\n  stateStorage: 'session',\n  onColumnResizeEnd: null,\n  onSort: null,\n  onPage: null,\n  onFilter: null,\n  onVirtualScroll: null,\n  onRowClick: null,\n  onRowDoubleClick: null,\n  onRowSelect: null,\n  onRowUnselect: null,\n  onRowExpand: null,\n  onRowCollapse: null,\n  onContextMenu: null,\n  onColReorder: null,\n  onRowReorder: null,\n  onValueChange: null\n});\n\n_defineProperty(DataTable, \"propTypes\", {\n  id: _propTypes.default.string,\n  value: _propTypes.default.array,\n  header: _propTypes.default.any,\n  footer: _propTypes.default.any,\n  style: _propTypes.default.object,\n  className: _propTypes.default.string,\n  tableStyle: _propTypes.default.any,\n  tableClassName: _propTypes.default.string,\n  paginator: _propTypes.default.bool,\n  paginatorPosition: _propTypes.default.string,\n  alwaysShowPaginator: _propTypes.default.bool,\n  paginatorTemplate: _propTypes.default.string,\n  paginatorLeft: _propTypes.default.any,\n  paginatorRight: _propTypes.default.any,\n  pageLinkSize: _propTypes.default.number,\n  rowsPerPageOptions: _propTypes.default.array,\n  currentPageReportTemplate: _propTypes.default.string,\n  first: _propTypes.default.number,\n  rows: _propTypes.default.number,\n  totalRecords: _propTypes.default.number,\n  lazy: _propTypes.default.bool,\n  sortField: _propTypes.default.string,\n  sortOrder: _propTypes.default.number,\n  multiSortMeta: _propTypes.default.array,\n  sortMode: _propTypes.default.string,\n  defaultSortOrder: _propTypes.default.number,\n  emptyMessage: _propTypes.default.string,\n  selectionMode: _propTypes.default.string,\n  selection: _propTypes.default.any,\n  onSelectionChange: _propTypes.default.func,\n  compareSelectionBy: _propTypes.default.string,\n  dataKey: _propTypes.default.string,\n  metaKeySelection: _propTypes.default.bool,\n  headerColumnGroup: _propTypes.default.any,\n  footerColumnGroup: _propTypes.default.any,\n  frozenHeaderColumnGroup: _propTypes.default.any,\n  frozenFooterColumnGroup: _propTypes.default.any,\n  rowExpansionTemplate: _propTypes.default.func,\n  expandedRows: _propTypes.default.oneOfType([_propTypes.default.array, _propTypes.default.object]),\n  onRowToggle: _propTypes.default.func,\n  responsive: _propTypes.default.bool,\n  resizableColumns: _propTypes.default.bool,\n  columnResizeMode: _propTypes.default.string,\n  reorderableColumns: _propTypes.default.bool,\n  filters: _propTypes.default.object,\n  globalFilter: _propTypes.default.any,\n  scrollable: _propTypes.default.bool,\n  scrollHeight: _propTypes.default.string,\n  virtualScroll: _propTypes.default.bool,\n  virtualScrollDelay: _propTypes.default.number,\n  virtualRowHeight: _propTypes.default.number,\n  frozenWidth: _propTypes.default.string,\n  frozenValue: _propTypes.default.array,\n  csvSeparator: _propTypes.default.string,\n  exportFilename: _propTypes.default.string,\n  rowGroupMode: _propTypes.default.string,\n  autoLayout: _propTypes.default.bool,\n  rowClassName: _propTypes.default.func,\n  rowGroupHeaderTemplate: _propTypes.default.func,\n  rowGroupFooterTemplate: _propTypes.default.func,\n  loading: _propTypes.default.bool,\n  loadingIcon: _propTypes.default.string,\n  tabIndex: _propTypes.default.string,\n  stateKey: _propTypes.default.string,\n  stateStorage: _propTypes.default.string,\n  onColumnResizeEnd: _propTypes.default.func,\n  onSort: _propTypes.default.func,\n  onPage: _propTypes.default.func,\n  onFilter: _propTypes.default.func,\n  onVirtualScroll: _propTypes.default.func,\n  onRowClick: _propTypes.default.func,\n  onRowDoubleClick: _propTypes.default.func,\n  onRowSelect: _propTypes.default.func,\n  onRowUnselect: _propTypes.default.func,\n  onRowExpand: _propTypes.default.func,\n  onRowCollapse: _propTypes.default.func,\n  onContextMenu: _propTypes.default.func,\n  onColReorder: _propTypes.default.func,\n  onRowReorder: _propTypes.default.func,\n  onValueChange: _propTypes.default.func\n});"]},"metadata":{},"sourceType":"script"}