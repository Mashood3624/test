{"ast":null,"code":"import _objectSpread from \"D:\\\\Github\\\\Admin_Panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Github\\\\Admin_Panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Github\\\\Admin_Panel\\\\src\\\\container\\\\Drivers\\\\DriversForm.js\";\n\n/*eslint-disable */\nimport React, { useState, useRef, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport TextField from '@material-ui/core/TextField'; // import InputAdornment from '@material-ui/core/InputAdornment';\n// import IconButton from '@material-ui/core/IconButton';\n// import MoreHorizIcon from '@material-ui/icons/MoreHoriz';\n\nimport GlobalHeader from \"../../components/GlobalHeader/GlobalHeader\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem'; // import FormHelperText from '@material-ui/core/FormHelperText';\n\nimport isEmail from 'validator/lib/isEmail';\nimport Select from '@material-ui/core/Select';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LookupTextField from '../../components/LookupTextField/LookupTextField';\nimport { AllAction } from '../../store/action';\nimport { Button } from 'primereact/button';\nimport LookUp from '../../components/Lookup/LookUp';\nimport ErrorBox from '../../components/ErrorBox/ErrorBox';\nimport { FileUpload } from 'primereact/fileupload';\nimport FileUploader from \"react-firebase-file-uploader\";\nimport appFirebase from '../../utilities/Firebase';\nimport { ProgressBar } from 'primereact/progressbar';\n\nvar _require = require('uuid'),\n    uuidv4 = _require.v4;\n\nvar ItemForm = function ItemForm(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      Rejected = _useState2[0],\n      setRejected = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      RejectedMsg = _useState4[0],\n      setRejectedMsg = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loadingOnSave = _useState6[0],\n      setloadingOnSave = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      errorBox = _useState8[0],\n      setErrorBox = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      msgString = _useState10[0],\n      setMsgString = _useState10[1];\n\n  var _useState11 = useState(true),\n      _useState12 = _slicedToArray(_useState11, 2),\n      newData = _useState12[0],\n      setNewData = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      ViewData = _useState14[0],\n      setViewData = _useState14[1];\n\n  var _useState15 = useState(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      UploadPrgress = _useState16[0],\n      setUploadPrgress = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      PrgressBar = _useState18[0],\n      setPrgressBar = _useState18[1];\n\n  var _useState19 = useState({\n    DriverName: '',\n    Email: '',\n    Password: '',\n    VehicleNo: '',\n    Address: '',\n    RegistrationNo: '',\n    DrivingLicenceNo: '',\n    DocumentUrl: '',\n    DriverID: ''\n  }),\n      _useState20 = _slicedToArray(_useState19, 2),\n      Driver = _useState20[0],\n      setDriver = _useState20[1];\n\n  var _useState21 = useState([]),\n      _useState22 = _slicedToArray(_useState21, 2),\n      driverArr = _useState22[0],\n      setDriverArr = _useState22[1];\n\n  var checkFields = function checkFields() {\n    if (Driver.DriverName === '' || Driver.DriverName === null || Driver.DriverName === undefined) {\n      setMsgString('Please Input Driver Name');\n      setErrorBox(true);\n      return false;\n    } else if (Driver.Email === '' || !isEmail(Driver.Email) || Driver.Email === undefined) {\n      setMsgString('Please Input Valid Email');\n      setErrorBox(true);\n      return false;\n    } else if (Driver.Password === '' || Driver.Password.length < 8 || Driver.Password === undefined) {\n      setMsgString(' Password Must be grater than 8 character');\n      setErrorBox(true);\n      return false;\n    } else if (Driver.VehicleNo === '' || Driver.VehicleNo === null || Driver.VehicleNo === undefined) {\n      setMsgString('Please Input Vehicle No');\n      setErrorBox(true);\n      return false;\n    } else if (Driver.Address === '' || Driver.Address === null || Driver.Address === undefined) {\n      setMsgString('Please Input No OF Address');\n      setErrorBox(true);\n      return false;\n    } else if (Driver.RegistrationNo === '' || Driver.RegistrationNo === null || Driver.RegistrationNo === undefined) {\n      setMsgString('Please Input Registration No');\n      setErrorBox(true);\n      return false;\n    } else if (Driver.DrivingLicenceNo === '' || Driver.DrivingLicenceNo === null || Driver.DrivingLicenceNo === undefined) {\n      setMsgString('Please Input Driving Licence No');\n      setErrorBox(true);\n      return false;\n    } else if (Driver.DocumentUrl === '' || Driver.DocumentUrl === null || Driver.DocumentUrl === undefined) {\n      setMsgString('Please Upload  Document');\n      setErrorBox(true);\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  var insertDriver = function insertDriver(arr, payload) {\n    var newArr = arr;\n    newArr.push(payload);\n    appFirebase.firestore().collection(\"companies\").doc(props.LoginRes.Res).update({\n      driver: newArr\n    }).then(function (doc) {\n      props.history.push({\n        pathname: \"Drivers\"\n      });\n    }).catch(function (err) {\n      console.log({\n        err: err\n      });\n    });\n  };\n\n  var insertDriverFunc = function insertDriverFunc(payload) {\n    console.log({\n      payload: payload\n    });\n    appFirebase.auth().createUserWithEmailAndPassword(payload.Email, payload.Password).then(function () {\n      appFirebase.firestore().collection(\"companies\").doc(props.LoginRes.Res).get().then(function (doc) {\n        console.log({\n          data: doc.data().driver\n        });\n        insertDriver(doc.data().driver, payload);\n      }).catch(function (err) {\n        console.log({\n          err: err\n        });\n      });\n    }).catch(function (err) {\n      console.log({\n        err: err\n      });\n\n      if (err.code === \"auth/email-already-in-use\") {\n        setMsgString(err.message);\n        setErrorBox(true);\n        setloadingOnSave(false);\n      }\n    });\n  };\n\n  var updateDriver = function updateDriver(arr, payload) {\n    var newArr = arr;\n    var index = -1;\n\n    for (var i = 0, len = newArr.length; i < len; i++) {\n      if (newArr[i].DriverID === payload.DriverID) {\n        index = i;\n        break;\n      }\n    }\n\n    console.log({\n      index: index\n    });\n    newArr[index] = payload;\n    appFirebase.firestore().collection(\"companies\").doc(props.LoginRes.Res).update({\n      driver: newArr\n    }).then(function (doc) {\n      props.history.push({\n        pathname: \"Drivers\"\n      });\n    }).catch(function (err) {\n      console.log({\n        err: err\n      });\n    });\n  };\n\n  var updateDriverFunc = function updateDriverFunc(payload) {\n    appFirebase.firestore().collection(\"companies\").doc(props.LoginRes.Res).get().then(function (doc) {\n      console.log({\n        data: doc.data().driver\n      });\n      updateDriver(doc.data().driver, payload);\n    }).catch(function (err) {\n      console.log({\n        err: err\n      });\n    });\n  };\n\n  var handleSave = function handleSave() {\n    if (checkFields()) {\n      setloadingOnSave(true);\n      var payload = {\n        DriverName: Driver.DriverName,\n        Email: Driver.Email,\n        Password: Driver.Password,\n        VehicleNo: Driver.VehicleNo,\n        Address: Driver.Address,\n        RegistrationNo: Driver.RegistrationNo,\n        DrivingLicenceNo: Driver.DrivingLicenceNo,\n        Status: \"Approved\",\n        CompanyId: props.LoginRes.Res,\n        DocumentUrl: Driver.DocumentUrl,\n        DriverID: newData === true ? uuidv4() : Driver.DriverID\n      };\n\n      if (newData) {\n        console.log(\"payload\", payload); // props.insertDriver(payload)\n\n        insertDriverFunc(payload);\n      } else {\n        updateDriverFunc(payload); // props.updateDriver(payload)\n      }\n    }\n  };\n\n  var hideError = function hideError() {\n    setErrorBox(false);\n    setMsgString('');\n  };\n\n  useEffect(function () {\n    var SuperAdmin = JSON.parse(sessionStorage.getItem('SuperAdmin'));\n\n    if (SuperAdmin !== null) {\n      window.location = \"#/access\";\n    }\n\n    if (props.location.data) {\n      if (props.location.data.editList) {\n        setNewData(false);\n        var _Driver = props.location.data.Driver;\n        console.log(\"Driver\", _Driver);\n        setDriver({\n          DriverName: _Driver.DriverName,\n          Email: _Driver.Email,\n          Password: _Driver.Password,\n          VehicleNo: _Driver.VehicleNo,\n          Address: _Driver.Address,\n          RegistrationNo: _Driver.RegistrationNo,\n          DrivingLicenceNo: _Driver.DrivingLicenceNo,\n          DocumentUrl: _Driver.DocumentUrl,\n          DriverID: _Driver.DriverID\n        });\n\n        if (_Driver.Status === \"Rejected\") {\n          setRejected(true);\n          setRejectedMsg(_Driver.Reason);\n        }\n      } else if (props.location.data.newList) {} else if (props.location.data.viewList) {\n        setViewData(true);\n        setNewData(false);\n        var _Driver2 = props.location.data.Driver;\n        console.log(\"Driver\", _Driver2);\n        setDriver({\n          DriverName: _Driver2.DriverName,\n          Email: _Driver2.Email,\n          Password: _Driver2.Password,\n          VehicleNo: _Driver2.VehicleNo,\n          Address: _Driver2.Address,\n          RegistrationNo: _Driver2.RegistrationNo,\n          DrivingLicenceNo: _Driver2.DrivingLicenceNo,\n          DocumentUrl: _Driver2.DocumentUrl,\n          DriverID: _Driver2.DriverID\n        });\n      }\n    } else {\n      props.history.push({\n        pathname: \"Drivers\"\n      });\n    }\n  }, []);\n\n  var handleUploadStart = function handleUploadStart() {\n    setPrgressBar(true);\n    setUploadPrgress(20);\n  };\n\n  var handleUploadSuccess = function handleUploadSuccess(filename) {\n    console.log({\n      filename: filename\n    });\n    var ext = filename.split('.').pop();\n\n    if (ext === \"pdf\") {\n      appFirebase.storage().ref(\"Documents/\" + props.LoginRes.Res).child(filename).getDownloadURL().then(function (url) {\n        return setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n          DocumentUrl: url\n        }));\n      }, setUploadPrgress(100));\n    } else {\n      setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n        DocumentUrl: \"\"\n      }));\n      setUploadPrgress(0);\n      setMsgString('Document Must be In .pdf formate');\n      setErrorBox(true);\n    }\n  }; // const []\n\n\n  useEffect(function () {\n    if (props.error) {}\n\n    if (props.InsertDriverRes) {\n      window.location = \"#/Drivers\";\n      props.AllListsNull();\n    }\n\n    if (props.updateDriverRes) {\n      window.location = \"#/Drivers\";\n      props.AllListsNull();\n    } // if (props.sessionExpired) {\n    //     window.location = \"#/error\";\n    //     props.AllListsNull()\n    // }\n\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-grid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-12 p-lg-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ErrorBox, {\n    open: errorBox,\n    onClose: hideError,\n    msg: msgString,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(GlobalHeader, {\n    loading: loadingOnSave,\n    goBack: function goBack() {\n      return props.history.goBack();\n    },\n    HeadingText: Rejected === true ? \"Rejected Resons: \" + RejectedMsg : null,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-grid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-12 p-lg-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-w-title \",\n    style: {\n      boxShadow: \"-1px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-grid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6 p-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Driver Name\",\n    onChange: function onChange(e) {\n      return setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n        DriverName: e.target.value\n      }));\n    },\n    value: Driver.DriverName,\n    fullWidth: true,\n    style: {\n      display: 'block'\n    },\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6 p-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    disabled: newData === false ? true : false,\n    label: \"Email\",\n    onChange: function onChange(e) {\n      return setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n        Email: e.target.value\n      }));\n    },\n    value: Driver.Email,\n    fullWidth: true,\n    style: {\n      display: 'block'\n    },\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6 p-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    disabled: newData === false ? true : false,\n    type: \"Password\",\n    label: \"Password\",\n    onChange: function onChange(e) {\n      return setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n        Password: e.target.value\n      }));\n    },\n    value: Driver.Password,\n    fullWidth: true,\n    style: {\n      display: 'block'\n    },\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6 p-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Vehicle No\",\n    onChange: function onChange(e) {\n      return setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n        VehicleNo: e.target.value\n      }));\n    },\n    value: Driver.VehicleNo,\n    fullWidth: true,\n    style: {\n      display: 'block'\n    },\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6 p-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Address\",\n    onChange: function onChange(e) {\n      return setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n        Address: e.target.value\n      }));\n    },\n    value: Driver.Address,\n    fullWidth: true,\n    style: {\n      display: 'block'\n    },\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6 p-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Registration no\",\n    onChange: function onChange(e) {\n      return setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n        RegistrationNo: e.target.value\n      }));\n    },\n    value: Driver.RegistrationNo,\n    fullWidth: true,\n    style: {\n      display: 'block'\n    },\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6 p-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Driving Licence No\",\n    onChange: function onChange(e) {\n      return setDriver(_objectSpread(_objectSpread({}, Driver), {}, {\n        DrivingLicenceNo: e.target.value\n      }));\n    },\n    value: Driver.DrivingLicenceNo,\n    fullWidth: true,\n    style: {\n      display: 'block'\n    },\n    variant: \"outlined\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 37\n    }\n  })), newData === false && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-6 p-lg-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    target: \"_blank\",\n    href: Driver.DocumentUrl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 41\n    }\n  }, \"Documents\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-12 p-lg-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 37\n    }\n  }, \"Upload document In PDF Formate\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-12 p-lg-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(FileUploader, {\n    accept: \".pdf\",\n    name: \"avatar\" // randomizeFilename\n    ,\n    storageRef: appFirebase.storage().ref(\"Documents/\" + props.LoginRes.Res),\n    onUploadStart: handleUploadStart // onUploadError={this.handleUploadError}\n    ,\n    onUploadSuccess: handleUploadSuccess // onProgress={this.handleProgress}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 37\n    }\n  }), PrgressBar && /*#__PURE__*/React.createElement(ProgressBar, {\n    value: UploadPrgress,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 41\n    }\n  })), ViewData === false && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-col-4   p-offset-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 56\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    label: \"Submit\",\n    icon: \"pi pi-check\",\n    onClick: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 37\n    }\n  }))))))));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    error: state.AllActionReducer.error,\n    InsertDriverRes: state.AllActionReducer.InsertDriverRes,\n    updateDriverRes: state.AllActionReducer.updateDriverRes,\n    LoginRes: state.AuthReducer.LoginRes\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    AllListsNull: function AllListsNull() {\n      return dispatch(AllAction.AllListsNull());\n    },\n    insertDriver: function insertDriver(payload) {\n      return dispatch(AllAction.insertDriver(payload));\n    },\n    updateDriver: function updateDriver(payload) {\n      return dispatch(AllAction.updateDriver(payload));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemForm);","map":{"version":3,"sources":["D:/Github/Admin_Panel/src/container/Drivers/DriversForm.js"],"names":["React","useState","useRef","useEffect","connect","TextField","GlobalHeader","makeStyles","InputLabel","MenuItem","isEmail","Select","Checkbox","LookupTextField","AllAction","Button","LookUp","ErrorBox","FileUpload","FileUploader","appFirebase","ProgressBar","require","uuidv4","v4","ItemForm","props","Rejected","setRejected","RejectedMsg","setRejectedMsg","loadingOnSave","setloadingOnSave","errorBox","setErrorBox","msgString","setMsgString","newData","setNewData","ViewData","setViewData","UploadPrgress","setUploadPrgress","PrgressBar","setPrgressBar","DriverName","Email","Password","VehicleNo","Address","RegistrationNo","DrivingLicenceNo","DocumentUrl","DriverID","Driver","setDriver","driverArr","setDriverArr","checkFields","undefined","length","insertDriver","arr","payload","newArr","push","firestore","collection","doc","LoginRes","Res","update","driver","then","history","pathname","catch","err","console","log","insertDriverFunc","auth","createUserWithEmailAndPassword","get","data","code","message","updateDriver","index","i","len","updateDriverFunc","handleSave","Status","CompanyId","hideError","SuperAdmin","JSON","parse","sessionStorage","getItem","window","location","editList","Reason","newList","viewList","handleUploadStart","handleUploadSuccess","filename","ext","split","pop","storage","ref","child","getDownloadURL","url","error","InsertDriverRes","AllListsNull","updateDriverRes","goBack","boxShadow","e","target","value","display","mapStateToProps","state","AllActionReducer","AuthReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["/*eslint-disable */\r\nimport React, { useState, useRef, useEffect, } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport TextField from '@material-ui/core/TextField';\r\n// import InputAdornment from '@material-ui/core/InputAdornment';\r\n// import IconButton from '@material-ui/core/IconButton';\r\n// import MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport GlobalHeader from \"../../components/GlobalHeader/GlobalHeader\"\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n// import FormHelperText from '@material-ui/core/FormHelperText';\r\nimport isEmail from 'validator/lib/isEmail';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport LookupTextField from '../../components/LookupTextField/LookupTextField';\r\nimport { AllAction } from '../../store/action';\r\nimport { Button } from 'primereact/button';\r\nimport LookUp from '../../components/Lookup/LookUp';\r\nimport ErrorBox from '../../components/ErrorBox/ErrorBox';\r\nimport { FileUpload } from 'primereact/fileupload';\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport appFirebase from '../../utilities/Firebase';\r\nimport { ProgressBar } from 'primereact/progressbar';\r\nconst { v4: uuidv4 } = require('uuid');\r\nconst ItemForm = (props) => {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const [Rejected, setRejected] = useState(false);\r\n    const [RejectedMsg, setRejectedMsg] = useState(\"\");\r\n    const [loadingOnSave, setloadingOnSave] = useState(false);\r\n    const [errorBox, setErrorBox] = useState(false);\r\n    const [msgString, setMsgString] = useState('');\r\n    const [newData, setNewData] = useState(true);\r\n    const [ViewData, setViewData] = useState(false);\r\n    const [UploadPrgress, setUploadPrgress] = useState(0)\r\n    const [PrgressBar, setPrgressBar] = useState(false)\r\n    const [Driver, setDriver] = useState({\r\n        DriverName: '',\r\n        Email: '',\r\n        Password: '',\r\n        VehicleNo: '',\r\n        Address: '',\r\n        RegistrationNo: '',\r\n        DrivingLicenceNo: '',\r\n        DocumentUrl: '',\r\n        DriverID: ''\r\n\r\n    });\r\n    const [driverArr, setDriverArr] = useState([])\r\n    const checkFields = () => {\r\n        if (Driver.DriverName === '' || Driver.DriverName === null || Driver.DriverName === undefined) {\r\n            setMsgString('Please Input Driver Name');\r\n            setErrorBox(true);\r\n            return false;\r\n        }\r\n        else if (Driver.Email === '' || !isEmail(Driver.Email) || Driver.Email === undefined) {\r\n            setMsgString('Please Input Valid Email');\r\n            setErrorBox(true);\r\n            return false;\r\n        }\r\n        else if (Driver.Password === '' || Driver.Password.length < 8 || Driver.Password === undefined) {\r\n            setMsgString(' Password Must be grater than 8 character');\r\n            setErrorBox(true);\r\n            return false;\r\n        }\r\n        else if (Driver.VehicleNo === '' || Driver.VehicleNo === null || Driver.VehicleNo === undefined) {\r\n            setMsgString('Please Input Vehicle No');\r\n            setErrorBox(true);\r\n            return false;\r\n        }\r\n        else if (Driver.Address === '' || Driver.Address === null || Driver.Address === undefined) {\r\n            setMsgString('Please Input No OF Address');\r\n            setErrorBox(true);\r\n            return false;\r\n        }\r\n        else if (Driver.RegistrationNo === '' || Driver.RegistrationNo === null || Driver.RegistrationNo === undefined) {\r\n            setMsgString('Please Input Registration No');\r\n            setErrorBox(true);\r\n            return false;\r\n        }\r\n        else if (Driver.DrivingLicenceNo === '' || Driver.DrivingLicenceNo === null || Driver.DrivingLicenceNo === undefined) {\r\n            setMsgString('Please Input Driving Licence No');\r\n            setErrorBox(true);\r\n            return false;\r\n        }\r\n        else if (Driver.DocumentUrl === '' || Driver.DocumentUrl === null || Driver.DocumentUrl === undefined) {\r\n            setMsgString('Please Upload  Document');\r\n            setErrorBox(true);\r\n            return false;\r\n        }\r\n\r\n        else {\r\n            return true;\r\n        }\r\n\r\n    }\r\n    const insertDriver = (arr, payload) => {\r\n        let newArr = arr\r\n        newArr.push(payload)\r\n        appFirebase.firestore().collection(\"companies\").doc(props.LoginRes.Res).update({\r\n            driver: newArr\r\n        }).\r\n            then((doc) => {\r\n                props.history.push({\r\n                    pathname: \"Drivers\"\r\n                })\r\n            }).catch((err) => {\r\n                console.log({ err })\r\n            })\r\n    }\r\n\r\n    const insertDriverFunc = (payload) => {\r\n        console.log({ payload })\r\n\r\n        appFirebase.auth().createUserWithEmailAndPassword(payload.Email, payload.Password).then(() => {\r\n            appFirebase.firestore().collection(\"companies\").doc(props.LoginRes.Res).get().\r\n                then((doc) => {\r\n                    console.log({ data: doc.data().driver })\r\n                    insertDriver(doc.data().driver, payload)\r\n                }).catch((err) => {\r\n                    console.log({ err })\r\n                })\r\n\r\n        }).catch((err) => {\r\n            console.log({ err })\r\n            if(err.code ===\"auth/email-already-in-use\"){\r\n                setMsgString(err.message);\r\n                setErrorBox(true);\r\n                setloadingOnSave(false)\r\n\r\n            }\r\n        })\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    const updateDriver = (arr, payload) => {\r\n        let newArr = arr\r\n       \r\n\r\n        var index = -1;\r\n        for (var i = 0, len = newArr.length; i < len; i++) {\r\n            if (newArr[i].DriverID === payload.DriverID) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        console.log({ index })\r\n        newArr[index] = payload\r\n        appFirebase.firestore().collection(\"companies\").doc(props.LoginRes.Res).update({\r\n            driver: newArr\r\n        }).\r\n            then((doc) => {\r\n                props.history.push({\r\n                    pathname: \"Drivers\"\r\n                })\r\n            }).catch((err) => {\r\n                console.log({ err })\r\n            })\r\n\r\n    }\r\n    const updateDriverFunc = (payload) => {\r\n        appFirebase.firestore().collection(\"companies\").doc(props.LoginRes.Res).get().\r\n            then((doc) => {\r\n                console.log({ data: doc.data().driver })\r\n                updateDriver(doc.data().driver, payload)\r\n            }).catch((err) => {\r\n                console.log({ err })\r\n            })\r\n\r\n    }\r\n    const handleSave = () => {\r\n\r\n        if (checkFields()) {\r\n            setloadingOnSave(true)\r\n            let payload = {\r\n\r\n                DriverName: Driver.DriverName,\r\n                Email: Driver.Email,\r\n                Password: Driver.Password,\r\n                VehicleNo: Driver.VehicleNo,\r\n                Address: Driver.Address,\r\n                RegistrationNo: Driver.RegistrationNo,\r\n                DrivingLicenceNo: Driver.DrivingLicenceNo,\r\n                Status: \"Approved\",\r\n                CompanyId: props.LoginRes.Res,\r\n                DocumentUrl: Driver.DocumentUrl,\r\n                DriverID: newData === true ? uuidv4() : Driver.DriverID\r\n\r\n            }\r\n\r\n            if (newData) {\r\n\r\n                console.log(\"payload\", payload)\r\n                // props.insertDriver(payload)\r\n                insertDriverFunc(payload)\r\n            }\r\n            else {\r\n                updateDriverFunc(payload)\r\n                // props.updateDriver(payload)\r\n            }\r\n        }\r\n\r\n\r\n    };\r\n    const hideError = () => {\r\n        setErrorBox(false);\r\n        setMsgString('');\r\n    }\r\n\r\n    useEffect(() => {\r\n        let SuperAdmin = JSON.parse(sessionStorage.getItem('SuperAdmin'));\r\n        if (SuperAdmin !== null) {\r\n            window.location = \"#/access\";\r\n        }\r\n        if (props.location.data) {\r\n\r\n            if (props.location.data.editList) {\r\n                setNewData(false)\r\n\r\n                let Driver = props.location.data.Driver\r\n                console.log(\"Driver\", Driver)\r\n                setDriver({\r\n                    DriverName: Driver.DriverName,\r\n                    Email: Driver.Email,\r\n                    Password: Driver.Password,\r\n                    VehicleNo: Driver.VehicleNo,\r\n                    Address: Driver.Address,\r\n                    RegistrationNo: Driver.RegistrationNo,\r\n                    DrivingLicenceNo: Driver.DrivingLicenceNo,\r\n                    DocumentUrl: Driver.DocumentUrl,\r\n                    DriverID: Driver.DriverID\r\n\r\n                })\r\n\r\n                if (Driver.Status === \"Rejected\") {\r\n                    setRejected(true)\r\n                    setRejectedMsg(Driver.Reason)\r\n                }\r\n            }\r\n            else if (props.location.data.newList) {\r\n\r\n\r\n            }\r\n            else if (props.location.data.viewList) {\r\n                setViewData(true)\r\n                setNewData(false)\r\n                let Driver = props.location.data.Driver\r\n                console.log(\"Driver\", Driver)\r\n                setDriver({\r\n                    DriverName: Driver.DriverName,\r\n                    Email: Driver.Email,\r\n                    Password: Driver.Password,\r\n                    VehicleNo: Driver.VehicleNo,\r\n                    Address: Driver.Address,\r\n                    RegistrationNo: Driver.RegistrationNo,\r\n                    DrivingLicenceNo: Driver.DrivingLicenceNo,\r\n                    DocumentUrl: Driver.DocumentUrl,\r\n                    DriverID: Driver.DriverID\r\n\r\n                })\r\n            }\r\n        }\r\n        else {\r\n            props.history.push({\r\n                pathname: \"Drivers\"\r\n            })\r\n        }\r\n    }, []);\r\n    const handleUploadStart = () => {\r\n        setPrgressBar(true)\r\n        setUploadPrgress(20)\r\n    }\r\n\r\n    const handleUploadSuccess = filename => {\r\n        console.log({ filename })\r\n        const ext = filename.split('.').pop();\r\n\r\n\r\n        if (ext === \"pdf\") {\r\n            appFirebase\r\n                .storage()\r\n                .ref(\"Documents/\" + props.LoginRes.Res)\r\n                .child(filename)\r\n\r\n                .getDownloadURL()\r\n                .then(url =>\r\n\r\n\r\n                    setDriver({ ...Driver, DocumentUrl: url }),\r\n                    setUploadPrgress(100)\r\n                );\r\n        }\r\n        else {\r\n            setDriver({ ...Driver, DocumentUrl: \"\" })\r\n            setUploadPrgress(0)\r\n            setMsgString('Document Must be In .pdf formate');\r\n            setErrorBox(true);\r\n        }\r\n    };\r\n\r\n    // const []\r\n    useEffect(() => {\r\n        if (props.error) {\r\n\r\n        }\r\n\r\n        if (props.InsertDriverRes) {\r\n\r\n            window.location = \"#/Drivers\";\r\n\r\n            props.AllListsNull()\r\n        }\r\n        if (props.updateDriverRes) {\r\n\r\n            window.location = \"#/Drivers\";\r\n\r\n            props.AllListsNull()\r\n        }\r\n\r\n\r\n        // if (props.sessionExpired) {\r\n        //     window.location = \"#/error\";\r\n        //     props.AllListsNull()\r\n        // }\r\n    })\r\n    return (\r\n        <div className=\"p-grid\">\r\n            <div className=\"p-col-12 p-lg-12\">\r\n                <ErrorBox open={errorBox} onClose={hideError} msg={msgString} />\r\n\r\n                <GlobalHeader\r\n                    loading={loadingOnSave}\r\n                    goBack={() => props.history.goBack()}\r\n\r\n\r\n                    HeadingText={Rejected === true ? \"Rejected Resons: \" + RejectedMsg : null}\r\n                />\r\n\r\n\r\n                <div className=\"p-grid\">\r\n                    <div className=\"p-col-12 p-lg-12\">\r\n                        <div className=\"card card-w-title \" style={{ boxShadow: \"-1px 3px 1px -2px rgba(0,0,0,0.2), 0px 2px 2px 0px rgba(0,0,0,0.14), 0px 1px 5px 0px rgba(0,0,0,0.12)\" }} >\r\n                            <div className=\"p-grid\">\r\n\r\n\r\n\r\n\r\n                                <div className=\"p-col-6 p-lg-4\">\r\n                                    <TextField label=\"Driver Name\" onChange={e => setDriver({ ...Driver, DriverName: e.target.value })} value={Driver.DriverName} fullWidth style={{ display: 'block' }} variant=\"outlined\" />\r\n                                </div>\r\n                                <div className=\"p-col-6 p-lg-4\">\r\n                                    <TextField disabled={newData === false ? true : false} label=\"Email\" onChange={e => setDriver({ ...Driver, Email: e.target.value })} value={Driver.Email} fullWidth style={{ display: 'block' }} variant=\"outlined\" />\r\n                                </div>\r\n                                <div className=\"p-col-6 p-lg-4\">\r\n                                    <TextField disabled={newData === false ? true : false} type={\"Password\"} label=\"Password\" onChange={e => setDriver({ ...Driver, Password: e.target.value })} value={Driver.Password} fullWidth style={{ display: 'block' }} variant=\"outlined\" />\r\n                                </div>\r\n                                <div className=\"p-col-6 p-lg-4\">\r\n                                    <TextField label=\"Vehicle No\" onChange={e => setDriver({ ...Driver, VehicleNo: e.target.value })} value={Driver.VehicleNo} fullWidth style={{ display: 'block' }} variant=\"outlined\" />\r\n                                </div>\r\n                                <div className=\"p-col-6 p-lg-4\">\r\n                                    <TextField label=\"Address\" onChange={e => setDriver({ ...Driver, Address: e.target.value })} value={Driver.Address} fullWidth style={{ display: 'block' }} variant=\"outlined\" />\r\n                                </div>\r\n                                <div className=\"p-col-6 p-lg-4\">\r\n                                    <TextField label=\"Registration no\" onChange={e => setDriver({ ...Driver, RegistrationNo: e.target.value })} value={Driver.RegistrationNo} fullWidth style={{ display: 'block' }} variant=\"outlined\" />\r\n                                </div>\r\n                                <div className=\"p-col-6 p-lg-4\">\r\n                                    <TextField label=\"Driving Licence No\" onChange={e => setDriver({ ...Driver, DrivingLicenceNo: e.target.value })} value={Driver.DrivingLicenceNo} fullWidth style={{ display: 'block' }} variant=\"outlined\" />\r\n                                </div>\r\n\r\n                                {newData === false &&\r\n                                    <div className=\"p-col-6 p-lg-4\">\r\n                                        <br />\r\n                                        <a target=\"_blank\" href={Driver.DocumentUrl}>Documents</a>\r\n                                    </div>\r\n\r\n                                }\r\n\r\n\r\n\r\n                                <div className=\"p-col-12 p-lg-12\">\r\n                                    <h2>Upload document In PDF Formate</h2>\r\n                                </div>\r\n                                <div className=\"p-col-12 p-lg-12\">\r\n\r\n                                    {/* <FileUpload customUpload={true} mode=\"basic\" name=\"demo[]\" accept=\"image/*\" maxFileSize={1000000} onUpload={(e)=>onBasicUpload(e)} /> */}\r\n\r\n                                    <FileUploader\r\n                                        accept=\".pdf\"\r\n                                        name=\"avatar\"\r\n                                        // randomizeFilename\r\n                                        storageRef={appFirebase.storage().ref(\"Documents/\" + props.LoginRes.Res)}\r\n                                        onUploadStart={handleUploadStart}\r\n                                        // onUploadError={this.handleUploadError}\r\n                                        onUploadSuccess={handleUploadSuccess}\r\n                                    // onProgress={this.handleProgress}\r\n                                    />\r\n                                    {PrgressBar &&\r\n                                        <ProgressBar value={UploadPrgress}></ProgressBar>}\r\n                                </div>\r\n\r\n                                {ViewData === false && <div className=\"p-col-4   p-offset-8\">\r\n                                    <Button label=\"Submit\" icon=\"pi pi-check\" onClick={handleSave} />\r\n                                </div>}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        error: state.AllActionReducer.error,\r\n        InsertDriverRes: state.AllActionReducer.InsertDriverRes,\r\n        updateDriverRes: state.AllActionReducer.updateDriverRes,\r\n        LoginRes: state.AuthReducer.LoginRes,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        AllListsNull: () => dispatch(AllAction.AllListsNull()),\r\n        insertDriver: (payload) => dispatch(AllAction.insertDriver(payload)),\r\n        updateDriver: (payload) => dispatch(AllAction.updateDriver(payload)),\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ItemForm);"]},"metadata":{},"sourceType":"module"}