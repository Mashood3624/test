{"ast":null,"code":"import _classCallCheck from \"D:\\\\Github\\\\Admin_Panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Github\\\\Admin_Panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\Github\\\\Admin_Panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\Github\\\\Admin_Panel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\Github\\\\Admin_Panel\\\\src\\\\AppTopbar.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux';\nimport { AuthAction } from './store/action';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport ErrorBox from './components/ErrorBox/ErrorBox';\nimport encryptDecrypt from \"./utilities/encryptDecrypt\";\nimport constants from \"./utilities/constants\";\nvar constant = constants.getConstant();\n\nvar AppTopbar = /*#__PURE__*/function (_Component) {\n  _inherits(AppTopbar, _Component);\n\n  var _super = _createSuper(AppTopbar);\n\n  function AppTopbar(props) {\n    var _this;\n\n    _classCallCheck(this, AppTopbar);\n\n    _this = _super.call(this, props);\n\n    _this.onLogout = function (e) {\n      e.preventDefault();\n      sessionStorage.clear();\n\n      _this.props.logout();\n\n      window.location = \"#/\";\n    };\n\n    _this.checkField = function () {\n      if (_this.state.User.Curr_Pass === '' || _this.state.User.Curr_Pass === undefined || _this.state.User.Curr_Pass === null) {\n        _this.setState({\n          msg: 'Please input Current Password.',\n          errorBox: true\n        });\n\n        return false;\n      }\n\n      if (_this.state.User.New_Pass === '' || _this.state.User.New_Pass === undefined || _this.state.User.New_Pass === null) {\n        _this.setState({\n          msg: 'Please input New Password.',\n          errorBox: true\n        });\n\n        return false;\n      }\n\n      if (_this.state.User.Conf_Pass === '' || _this.state.User.Conf_Pass === undefined || _this.state.User.Conf_Pass === null) {\n        _this.setState({\n          msg: 'Please Confirm Password.',\n          errorBox: true\n        });\n\n        return false;\n      }\n\n      if (_this.state.User.Conf_Pass !== _this.state.User.New_Pass) {\n        _this.setState({\n          msg: 'Passwords are not matched.',\n          errorBox: true\n        });\n\n        return false;\n      }\n\n      return true;\n    };\n\n    _this.checkPass = function () {\n      var dct = new encryptDecrypt();\n      var decrypted = dct.decrypt(_this.state.User.UserPass, _this.SecretKey);\n\n      if (decrypted === _this.state.User.Curr_Pass) {\n        return true;\n      } else {\n        _this.setState({\n          msg: 'Current Password is incorrect.',\n          errorBox: true\n        });\n\n        return false;\n      }\n    };\n\n    _this.save = function () {\n      if (_this.checkField()) {\n        if (_this.checkPass()) {\n          _this.setState({\n            changePassLoad: true,\n            disablePassFields: true\n          });\n\n          var encpt = new encryptDecrypt();\n          var pass = encpt.encrypt(_this.state.User.New_Pass, _this.SecretKey);\n          var payload = {\n            FormName: \"ChangePassword\",\n            Password: pass,\n            ID: _this.state.User.UserID\n          };\n\n          _this.props.changePass(payload);\n        }\n      }\n    };\n\n    _this.handleClose = function (e) {\n      var User = _this.state.User;\n      User['UserID'] = _this.state.User.UserID;\n      User['UserName'] = _this.state.User.UserName;\n      User['UserPass'] = '';\n      User['Curr_Pass'] = '';\n      User['New_Pass'] = '';\n      User['Conf_Pass'] = '';\n\n      _this.setState({\n        User: User,\n        changePassLoad: false,\n        errorBox: false,\n        msg: '',\n        visibleChangePassDialog: false\n      });\n    };\n\n    _this.onChangePassword = function (e) {\n      e.preventDefault();\n\n      if (_this.state.User.UserID !== '') {\n        _this.setState({\n          visibleChangePassDialog: true\n        });\n      }\n    };\n\n    _this.updateProperty = function (property, value) {\n      var User = _this.state.User;\n      User[property] = value;\n\n      _this.setState({\n        User: User\n      });\n    };\n\n    _this.hideError = function () {\n      _this.setState({\n        errorBox: false,\n        msg: ''\n      });\n    };\n\n    _this.loadUserInfo = function () {\n      _this.props.getUserDetail({\n        FormName: 'Users',\n        ID: _this.state.User.UserID\n      });\n    };\n\n    _this.state = {\n      User: {\n        UserID: '',\n        UserName: '',\n        UserPass: '',\n        Curr_Pass: '',\n        New_Pass: '',\n        Conf_Pass: ''\n      },\n      visibleChangePassDialog: false,\n      changePassLoad: false,\n      disablePassFields: false,\n      msg: '',\n      errorBox: false\n    };\n    _this.SecretKey = constant.SecretKey;\n    return _this;\n  }\n\n  _createClass(AppTopbar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.user) {\n        var User = this.state.User;\n        User['UserName'] = this.props.user[1].UserName;\n        User['UserID'] = this.props.user[1].UserID;\n        this.setState({\n          User: User\n        });\n      } else {// window.location = \"#/\";\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {// if (nextProps.userDetailError) {\n      //     this.setState({\n      //         msg: nextProps.userDetailError,\n      //         errorBox: true\n      //     });\n      //     this.props.userDetailNull();\n      // }\n      // if (nextProps.ChangePassRes) {\n      //     let User = this.state.User;\n      //     User['UserID'] = this.state.User.UserID;\n      //     User['UserName'] = this.state.User.UserName;\n      //     User['UserPass'] = '';\n      //     User['Curr_Pass'] = '';\n      //     User['New_Pass'] = '';\n      //     User['Conf_Pass'] = '';\n      //     this.setState({\n      //         User: User,\n      //         msg: nextProps.ChangePassRes.Message,\n      //         errorBox: true,\n      //         changePassLoad: false,\n      //         disablePassFields: false,\n      //         // visibleChangePassDialog: false,\n      //     });\n      //     this.props.changePassNull();\n      // }\n      // if (nextProps.userDetail) {\n      //     let User = this.state.User;\n      //     User['UserPass'] = nextProps.userDetail.Password\n      //     this.setState({\n      //         User: User\n      //     });\n      //     this.props.userDetailNull();\n      // }\n      // if (nextProps.sessionExpired) {\n      //     window.location = \"#/error\";\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var topbarItemsClassName = classNames('topbar-items fadeInDown', {\n        'topbar-items-visible': this.props.topbarMenuActive\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"layout-topbar clearfix\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"p-link layout-menu-button\",\n        onClick: this.props.onToggleMenu,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"pi pi-bars\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"layout-topbar-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"p-link\",\n        \"data-tip\": this.state.UserID,\n        onClick: this.props.onTopbarMenuButtonClick,\n        style: {\n          float: 'right'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"layout-topbar-item-text\",\n        style: {\n          display: 'inline',\n          fontSize: '14px',\n          position: 'relative',\n          bottom: '5px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }\n      }, this.state.UserID), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"layout-topbar-icon pi pi-user\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }\n      })), this.props.topbarMenuActive && /*#__PURE__*/React.createElement(\"ul\", {\n        style: {\n          backgroundColor: 'grey',\n          marginTop: '34px',\n          borderRadius: '5px',\n          padding: '10px',\n          paddingLeft: '2px',\n          height: '90px'\n        },\n        className: topbarItemsClassName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"layout-menu fadeInDown\",\n        style: {\n          height: '100%',\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'space-evenly'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        role: \"menuitem\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"p-link\",\n        onClick: this.onChangePassword,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-fw fa-lock\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 41\n        }\n      }, \"Change Password\"))), /*#__PURE__*/React.createElement(\"li\", {\n        role: \"menuitem\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"p-link\",\n        onClick: this.onLogout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-fw fa-sign-out\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 41\n        }\n      }, \"Logout\")))))), this.state.visibleChangePassDialog && /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Dialog, {\n        onEnter: function onEnter() {\n          return _this2.loadUserInfo();\n        },\n        onClose: this.handleClose,\n        \"aria-labelledby\": \"customized-dialog-title\",\n        open: this.state.visibleChangePassDialog,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(ErrorBox, {\n        open: this.state.errorBox,\n        onClose: this.hideError,\n        msg: this.state.msg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(MuiDialogTitle, {\n        disableTypography: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        variant: \"h6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 33\n        }\n      }, \"Change Password\"), /*#__PURE__*/React.createElement(IconButton, {\n        style: {\n          position: 'absolute',\n          right: '5px',\n          top: '10px'\n        },\n        \"aria-label\": \"close\",\n        onClick: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(CloseIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(DialogContent, {\n        dividers: true,\n        style: {\n          width: \"\".concat(Math.ceil(window.outerWidth / 3), \"px\")\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(TextField, {\n        fullWidth: true,\n        value: this.state.User.UserName,\n        disabled: true,\n        style: {\n          display: 'block',\n          marginBottom: '10px'\n        },\n        variant: \"outlined\",\n        label: \"User ID\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(TextField, {\n        fullWidth: true,\n        type: \"password\",\n        value: this.state.User.Curr_Pass,\n        disabled: this.state.disablePassFields,\n        onChange: function onChange(e) {\n          return _this2.updateProperty('Curr_Pass', e.target.value);\n        },\n        style: {\n          display: 'block',\n          marginBottom: '10px'\n        },\n        variant: \"outlined\",\n        label: \"Current Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(TextField, {\n        fullWidth: true,\n        type: \"password\",\n        value: this.state.User.New_Pass,\n        disabled: this.state.disablePassFields,\n        onChange: function onChange(e) {\n          return _this2.updateProperty('New_Pass', e.target.value);\n        },\n        style: {\n          display: 'block',\n          marginBottom: '10px'\n        },\n        variant: \"outlined\",\n        label: \"New Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(TextField, {\n        fullWidth: true,\n        type: \"password\",\n        value: this.state.User.Conf_Pass,\n        disabled: this.state.disablePassFields,\n        onChange: function onChange(e) {\n          return _this2.updateProperty('Conf_Pass', e.target.value);\n        },\n        style: {\n          display: 'block',\n          marginBottom: '10px'\n        },\n        variant: \"outlined\",\n        label: \"Confirm Password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(MuiDialogActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 29\n        }\n      }, this.state.changePassLoad === false ? /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick(e) {\n          return _this2.save();\n        },\n        variant: \"outlined\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 41\n        }\n      }, \"Change\") : null, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleClose,\n        variant: \"outlined\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 33\n        }\n      }, \"Cancel\")))));\n    }\n  }]);\n\n  return AppTopbar;\n}(Component);\n\nAppTopbar.defaultProps = {\n  onToggleMenu: null\n};\nAppTopbar.propTypes = {\n  onToggleMenu: PropTypes.func.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {// user: state.AuthReducer.user,\n    // sessionExpired: state.SessionExpiredReducer.sessionExpired,\n    // userDetail: state.AuthReducer.userDetail,\n    // ChangePassRes: state.AuthReducer.PassChangeRes,\n    // userDetailError: state.AuthReducer.error\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logout: function logout() {\n      return dispatch(AuthAction.logout());\n    } // getUserDetail: (payload) => dispatch(AuthAction.getUserDetail(payload)),\n    // userDetailNull: () => dispatch(AuthAction.userDetailNull()),\n    // changePass: (payload) => dispatch(AuthAction.changePass(payload)),\n    // changePassNull: () => dispatch(AuthAction.ChangePassNULL()),\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AppTopbar);","map":{"version":3,"sources":["D:/Github/Admin_Panel/src/AppTopbar.js"],"names":["React","Component","PropTypes","classNames","connect","AuthAction","Dialog","DialogContent","MuiDialogActions","MuiDialogTitle","IconButton","CloseIcon","Typography","Button","TextField","ErrorBox","encryptDecrypt","constants","constant","getConstant","AppTopbar","props","onLogout","e","preventDefault","sessionStorage","clear","logout","window","location","checkField","state","User","Curr_Pass","undefined","setState","msg","errorBox","New_Pass","Conf_Pass","checkPass","dct","decrypted","decrypt","UserPass","SecretKey","save","changePassLoad","disablePassFields","encpt","pass","encrypt","payload","FormName","Password","ID","UserID","changePass","handleClose","UserName","visibleChangePassDialog","onChangePassword","updateProperty","property","value","hideError","loadUserInfo","getUserDetail","user","nextProps","topbarItemsClassName","topbarMenuActive","onToggleMenu","onTopbarMenuButtonClick","float","display","fontSize","position","bottom","backgroundColor","marginTop","borderRadius","padding","paddingLeft","height","flexDirection","justifyContent","right","top","width","Math","ceil","outerWidth","marginBottom","target","defaultProps","propTypes","func","isRequired","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport { connect } from 'react-redux';\r\nimport { AuthAction } from './store/action';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport MuiDialogActions from '@material-ui/core/DialogActions';\r\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport ErrorBox from './components/ErrorBox/ErrorBox';\r\nimport encryptDecrypt from \"./utilities/encryptDecrypt\";\r\nimport constants from \"./utilities/constants\";\r\n\r\nconst constant = constants.getConstant();\r\n\r\nclass AppTopbar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            User: {\r\n                UserID: '',\r\n                UserName: '',\r\n                UserPass: '',\r\n                Curr_Pass: '',\r\n                New_Pass: '',\r\n                Conf_Pass: ''\r\n            },\r\n            visibleChangePassDialog: false,\r\n            changePassLoad: false,\r\n            disablePassFields: false,\r\n            msg: '',\r\n            errorBox: false\r\n        }\r\n        this.SecretKey = constant.SecretKey;\r\n    }\r\n\r\n    static defaultProps = {\r\n        onToggleMenu: null\r\n    }\r\n\r\n    static propTypes = {\r\n        onToggleMenu: PropTypes.func.isRequired\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.user) {\r\n            let User = this.state.User;\r\n            User['UserName'] = this.props.user[1].UserName;\r\n            User['UserID'] = this.props.user[1].UserID;\r\n            this.setState({\r\n                User: User\r\n            });\r\n        }\r\n        else {\r\n            // window.location = \"#/\";\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        // if (nextProps.userDetailError) {\r\n        //     this.setState({\r\n        //         msg: nextProps.userDetailError,\r\n        //         errorBox: true\r\n        //     });\r\n        //     this.props.userDetailNull();\r\n        // }\r\n        // if (nextProps.ChangePassRes) {\r\n        //     let User = this.state.User;\r\n        //     User['UserID'] = this.state.User.UserID;\r\n        //     User['UserName'] = this.state.User.UserName;\r\n        //     User['UserPass'] = '';\r\n        //     User['Curr_Pass'] = '';\r\n        //     User['New_Pass'] = '';\r\n        //     User['Conf_Pass'] = '';\r\n        //     this.setState({\r\n        //         User: User,\r\n        //         msg: nextProps.ChangePassRes.Message,\r\n        //         errorBox: true,\r\n        //         changePassLoad: false,\r\n        //         disablePassFields: false,\r\n        //         // visibleChangePassDialog: false,\r\n        //     });\r\n        //     this.props.changePassNull();\r\n        // }\r\n        // if (nextProps.userDetail) {\r\n        //     let User = this.state.User;\r\n        //     User['UserPass'] = nextProps.userDetail.Password\r\n        //     this.setState({\r\n        //         User: User\r\n        //     });\r\n        //     this.props.userDetailNull();\r\n        // }\r\n        // if (nextProps.sessionExpired) {\r\n        //     window.location = \"#/error\";\r\n        // }\r\n    }\r\n\r\n    onLogout = (e) => {\r\n        e.preventDefault();\r\n        sessionStorage.clear();\r\n        this.props.logout();\r\n        window.location = \"#/\"\r\n    }\r\n\r\n    checkField = () => {\r\n        if (this.state.User.Curr_Pass === '' || this.state.User.Curr_Pass === undefined || this.state.User.Curr_Pass === null) {\r\n            this.setState({\r\n                msg: 'Please input Current Password.',\r\n                errorBox: true\r\n            });\r\n            return false;\r\n        }\r\n        if (this.state.User.New_Pass === '' || this.state.User.New_Pass === undefined || this.state.User.New_Pass === null) {\r\n            this.setState({\r\n                msg: 'Please input New Password.',\r\n                errorBox: true\r\n            });\r\n            return false;\r\n        }\r\n        if (this.state.User.Conf_Pass === '' || this.state.User.Conf_Pass === undefined || this.state.User.Conf_Pass === null) {\r\n            this.setState({\r\n                msg: 'Please Confirm Password.',\r\n                errorBox: true\r\n            });\r\n            return false;\r\n        }\r\n        if (this.state.User.Conf_Pass !== this.state.User.New_Pass) {\r\n            this.setState({\r\n                msg: 'Passwords are not matched.',\r\n                errorBox: true\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    checkPass = () => {\r\n        let dct = new encryptDecrypt();\r\n        let decrypted = dct.decrypt(this.state.User.UserPass, this.SecretKey);\r\n        if (decrypted === this.state.User.Curr_Pass) {\r\n            return true;\r\n        }\r\n        else {\r\n            this.setState({\r\n                msg: 'Current Password is incorrect.',\r\n                errorBox: true\r\n            });\r\n            return false\r\n        }\r\n    }\r\n\r\n    save = () => {\r\n        if (this.checkField()) {\r\n            if (this.checkPass()) {\r\n                this.setState({ changePassLoad: true, disablePassFields: true });\r\n                let encpt = new encryptDecrypt();\r\n                let pass = encpt.encrypt(this.state.User.New_Pass,this.SecretKey);\r\n                let payload = {\r\n                    FormName: \"ChangePassword\",\r\n                    Password: pass,\r\n                    ID: this.state.User.UserID\r\n                }\r\n                this.props.changePass(payload);\r\n            }\r\n        }\r\n    }\r\n\r\n    handleClose = (e) => {\r\n        let User = this.state.User;\r\n            User['UserID'] = this.state.User.UserID;\r\n            User['UserName'] = this.state.User.UserName;\r\n            User['UserPass'] = '';\r\n            User['Curr_Pass'] = '';\r\n            User['New_Pass'] = '';\r\n            User['Conf_Pass'] = '';\r\n        this.setState({\r\n            User:User,\r\n            changePassLoad:false,\r\n            errorBox:false,\r\n            msg:'',\r\n            visibleChangePassDialog: false\r\n        });\r\n    }\r\n\r\n    onChangePassword = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.User.UserID !== '') {\r\n            this.setState({\r\n                visibleChangePassDialog: true\r\n            })\r\n        }\r\n    }\r\n\r\n    updateProperty = (property, value) => {\r\n        let User = this.state.User;\r\n        User[property] = value;\r\n        this.setState({ User: User });\r\n    }\r\n\r\n    hideError = () => {\r\n        this.setState({\r\n            errorBox: false,\r\n            msg: ''\r\n        });\r\n    }\r\n\r\n    loadUserInfo = () => {\r\n        this.props.getUserDetail({ FormName: 'Users', ID: this.state.User.UserID });\r\n    }\r\n\r\n    render() {\r\n        let topbarItemsClassName = classNames('topbar-items fadeInDown', { 'topbar-items-visible': this.props.topbarMenuActive });\r\n        return (\r\n            <div  className=\"layout-topbar clearfix\">\r\n                <button className=\"p-link layout-menu-button\" onClick={this.props.onToggleMenu}>\r\n                    <span className=\"pi pi-bars\" />\r\n                </button>\r\n                <div className=\"layout-topbar-icons\">\r\n                    <button className=\"p-link\" data-tip={this.state.UserID} onClick={this.props.onTopbarMenuButtonClick} style={{ float: 'right' }}>\r\n                        <span className=\"layout-topbar-item-text\" style={{ display: 'inline', fontSize: '14px', position: 'relative', bottom: '5px' }}>{this.state.UserID}</span>\r\n                        <span className=\"layout-topbar-icon pi pi-user\" />\r\n                    </button>\r\n                    {this.props.topbarMenuActive &&\r\n                        <ul style={{ backgroundColor: 'grey', marginTop: '34px', borderRadius: '5px', padding: '10px', paddingLeft: '2px', height: '90px' }} className={topbarItemsClassName}>\r\n\r\n                            <ul className=\"layout-menu fadeInDown\" style={{ height: '100%', display: 'flex', flexDirection: 'column', justifyContent: 'space-evenly' }}>\r\n                                <li role=\"menuitem\">\r\n                                    <button className=\"p-link\" onClick={this.onChangePassword}>\r\n                                        <i className=\"fa fa-fw fa-lock\"></i>\r\n                                        <span>Change Password</span>\r\n                                    </button>\r\n                                </li>\r\n                                <li role=\"menuitem\">\r\n                                    <button className=\"p-link\" onClick={this.onLogout}>\r\n                                        <i className=\"fa fa-fw fa-sign-out\"></i>\r\n                                        <span>Logout</span>\r\n                                    </button>\r\n                                </li>\r\n                            </ul>\r\n\r\n\r\n                        </ul>\r\n                    }\r\n                </div>\r\n                {\r\n                    this.state.visibleChangePassDialog &&\r\n                    <React.Fragment>\r\n                        <Dialog onEnter={() => this.loadUserInfo()} onClose={this.handleClose} aria-labelledby=\"customized-dialog-title\" open={this.state.visibleChangePassDialog}>\r\n                            <ErrorBox open={this.state.errorBox} onClose={this.hideError} msg={this.state.msg} />\r\n                            <MuiDialogTitle disableTypography>\r\n                                <Typography variant=\"h6\">Change Password</Typography>\r\n                                <IconButton style={{ position: 'absolute', right: '5px', top: '10px' }} aria-label=\"close\" onClick={this.handleClose}>\r\n                                    <CloseIcon />\r\n                                </IconButton>\r\n                            </MuiDialogTitle>\r\n                            <DialogContent dividers style={{ width: `${Math.ceil(window.outerWidth / 3)}px` }}  >\r\n                                <TextField fullWidth value={this.state.User.UserName} disabled={true} style={{ display: 'block', marginBottom: '10px' }} variant=\"outlined\" label=\"User ID\" />\r\n                                <TextField fullWidth type=\"password\" value={this.state.User.Curr_Pass} disabled={this.state.disablePassFields} onChange={(e) => this.updateProperty('Curr_Pass', e.target.value)} style={{ display: 'block', marginBottom: '10px' }} variant=\"outlined\" label=\"Current Password\" />\r\n                                <TextField fullWidth type=\"password\" value={this.state.User.New_Pass} disabled={this.state.disablePassFields} onChange={(e) => this.updateProperty('New_Pass', e.target.value)} style={{ display: 'block', marginBottom: '10px' }} variant=\"outlined\" label=\"New Password\" />\r\n                                <TextField fullWidth type=\"password\" value={this.state.User.Conf_Pass} disabled={this.state.disablePassFields} onChange={(e) => this.updateProperty('Conf_Pass', e.target.value)} style={{ display: 'block', marginBottom: '10px' }} variant=\"outlined\" label=\"Confirm Password\" />\r\n                            </DialogContent>\r\n                            <MuiDialogActions>\r\n                                {\r\n                                    this.state.changePassLoad === false ?\r\n                                        <Button onClick={(e) => this.save()} variant=\"outlined\" >Change</Button>\r\n                                        : null\r\n                                }\r\n                                <Button onClick={this.handleClose} variant=\"outlined\">Cancel</Button>\r\n                            </MuiDialogActions>\r\n                        </Dialog>\r\n                    </React.Fragment>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        // user: state.AuthReducer.user,\r\n        // sessionExpired: state.SessionExpiredReducer.sessionExpired,\r\n        // userDetail: state.AuthReducer.userDetail,\r\n        // ChangePassRes: state.AuthReducer.PassChangeRes,\r\n        // userDetailError: state.AuthReducer.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        logout: () => dispatch(AuthAction.logout()),\r\n        // getUserDetail: (payload) => dispatch(AuthAction.getUserDetail(payload)),\r\n        // userDetailNull: () => dispatch(AuthAction.userDetailNull()),\r\n        // changePass: (payload) => dispatch(AuthAction.changePass(payload)),\r\n        // changePassNull: () => dispatch(AuthAction.ChangePassNULL()),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppTopbar);"]},"metadata":{},"sourceType":"module"}